function defaultValue(e,t){return null!=e?e:t}function clone(e,t){if(null===e||"object"!=typeof e)return e;t=defaultValue(t,!1);var n=new e.constructor;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t&&(o=clone(o,t)),n[r]=o}return n}function defined(e){return null!=e}defaultValue.EMPTY_OBJECT=Object.freeze({});class DeveloperError{constructor(e){throw this.message=e,new Error(e)}}class BaseObject{}class CObject extends BaseObject{constructor(){super(...arguments),this.isStatic=CObject.isStatic,this.isPrimitive=CObject.isPrimitive,this.isObject=CObject.isObject,this.isObjectLike=CObject.isObjectLike,this.getRawType=CObject.getRawType,this.isPlainObject=CObject.isPlainObject}}CObject.isStatic=e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null==e,CObject.isPrimitive=e=>CObject.isStatic(e)||"symbol"==typeof e,CObject.isObject=e=>{let t=typeof e;return null!=e&&("object"==t||"function"==t)},CObject.isObjectLike=e=>null!=e&&"object"==typeof e,CObject.getRawType=e=>Object.prototype.toString.call(e).slice(8,-1),CObject.isPlainObject=e=>"[object Object]"===Object.prototype.toString.call(e);class CNumber extends BaseObject{}var _a$3,_a$2,_a$1;CNumber.randomNum=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,CNumber.format=e=>{let t=e.toString(),n=t.length;if(n<=3)return t;{let e="",r=n%3;return r>0?t.slice(0,r)+","+t.slice(r,n).match(/\d{3}/g).join(",")+e:t.slice(0,n).match(/\d{3}/g).join(",")+e}},CNumber.cutNumber=function(e,t=2){return"number"!=typeof e&&(e=Number(e)),Number(e.toFixed(t))},CNumber.isEven=e=>e%2==0,CNumber.average=e=>e.reduce((e,t)=>e+t)/e.length,CNumber.celsiusToFahrenheit=e=>9*e/5+32,CNumber.fahrenheitToCelsius=e=>5*(e-32)/9;class CArray extends BaseObject{static arrayFill(e,t,n,r){if("function"==typeof e.fill)return e.fill(t,n,r);for(var o=e.length>>>0,s=defaultValue(n,0),l=s<0?Math.max(o+s,0):Math.min(s,o),i=defaultValue(r,o),m=i<0?Math.max(o+i,0):Math.min(i,o);l<m;)e[l]=t,l++;return e}}_a$3=CArray,CArray.arrScrambling=e=>{for(let t=0;t<e.length;t++){const n=Math.round(Math.random()*(e.length-1-t))+t;[e[t],e[n]]=[e[n],e[t]]}return e},CArray.flatten=e=>{let t=[];for(let n=0;n<e.length;n++)Array.isArray(e[n])?t=t.concat(_a$3.flatten(e[n])):t.push(e[n]);return t},CArray.sample=e=>e[Math.floor(Math.random()*e.length)],CArray.uniqueArray=function(e){if(!Array.isArray(e))throw new Error("The first parameter must be an array");return 1==e.length?e:[...new Set(e)]},CArray.quickArr=function(e){if(e.length<=1)return e;for(var t=[],n=[],r=Math.floor(e.length/2),o=e.splice(r,1)[0],s=0;s<e.length;s++)e[s]<=o?t.push(e[s]):n.push(e[s]);return CArray.quickArr(t).concat([o],CArray.quickArr(n))},CArray.bubbleSort=function(e){for(var t=e.length,n=0;n<t-1;n++)for(var r=0;r<t-1-n;r++)if(e[r]>e[r+1]){var o=e[r];e[r]=e[r+1],e[r+1]=o}return e},CArray.isNotEmpty=e=>Array.isArray(e)&&e.length>0,CArray.merge=(e,t)=>[...e,...t];class CString extends BaseObject{}CString.randomString=(e=8)=>{for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e=e||8;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n},CString.fistLetterUpper=e=>e.charAt(0).toUpperCase()+e.slice(1),CString.telFormat=e=>(e=String(e)).substr(0,3)+"****"+e.substr(7),CString.getKebabCase=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),CString.getCamelCase=e=>e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),CString.toCDB=e=>{let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t+=r>=65281&&r<=65374?String.fromCharCode(e.charCodeAt(n)-65248):12288==r?String.fromCharCode(e.charCodeAt(n)-12288+32):e.charAt(n)}return t},CString.toDBC=e=>{let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t+=r>=33&&r<=126?String.fromCharCode(e.charCodeAt(n)+65248):32==r?String.fromCharCode(e.charCodeAt(n)+12288-32):e.charAt(n)}return t},CString.reverse=e=>e.split("").reverse().join(""),CString.truncateString=(e,t)=>e.length<t?e:`${e.slice(0,t-3)}...`,CString.stripHtml=e=>(new DOMParser).parseFromString(e,"text/html").body.textContent||"",CString.deepClone=function(e){if("object"!=typeof e)return e;var t;for(var n in t="[object Array]"==Object.prototype.toString.call(e)?[]:{},e)e.hasOwnProperty(n)&&(t[n]=CString.deepClone(e[n]));return t},CString.firstAppear=function(e){for(var t={},n=e.length,r=0;r<n;r++)t[e[r]]?t[e[r]]++:t[e[r]]=1;for(var o in t)if(1==t[o])return o},CString.isPalindrome=function(e){return"[object String]"===Object.prototype.toString.call(e)&&(e=e.replace(/\W/g,"").toLowerCase(),console.log(e),e==e.split("").reverse().join(""))};class CFormat extends BaseObject{}CFormat.digitUppercase=e=>{const t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]];e=Math.abs(e);let o="";for(let r=0;r<t.length;r++)o+=(n[Math.floor(10*e*Math.pow(10,r))%10]+t[r]).replace(/零./,"");o=o||"整",e=Math.floor(e);for(let t=0;t<r[0].length&&e>0;t++){let s="";for(let t=0;t<r[1].length&&e>0;t++)s=n[e%10]+r[1][t]+s,e=Math.floor(e/10);o=s.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][t]+o}return o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},CFormat.intToChinese=e=>{const t=String(e),n=t.length-1,r=["","十","百","千","万","十","百","千","亿","十","百","千","万","十","百","千","亿"],o=["零","一","二","三","四","五","六","七","八","九"];return t.replace(/([1-9]|0+)/g,(e,t,s,l)=>{let i=0;if("0"!==t[0])return i=n-s,0==s&&1==t[0]&&"十"==r[n-s]?r[n-s]:o[t[0]]+r[n-s];{let e=n-s;return Math.floor((n-s+t.length)/4)-Math.floor(e/4)>0&&(i=e-e%4),i?r[i]+o[t[0]]:s+t.length>=n?"":o[t[0]]}})};class CStorage extends BaseObject{}CStorage.setLoalStorage=(e,t)=>{e&&("string"!=typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t))},CStorage.getLoalStorage=e=>{if(e)return window.localStorage.getItem(e)},CStorage.removeLoalStorage=e=>{e&&window.localStorage.removeItem(e)},CStorage.setSessionStorage=(e,t)=>{e&&("string"!=typeof t&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t))},CStorage.getSessionStorage=e=>{if(e)return window.sessionStorage.getItem(e)},CStorage.removeSessionStorage=e=>{e&&window.sessionStorage.removeItem(e)};class CCookie extends BaseObject{}CCookie.setCookie=(e,t,n)=>{const r=new Date;r.setDate(r.getDate()+n),document.cookie=`${e}=${t};expires=${r.toUTCString()}`},CCookie.getCookie=e=>{const t=unescape(document.cookie).split("; ");let n="";for(let r=0;r<t.length;r++){const o=t[r].split("=");if(o[0]===e){n=o[1];break}}return n},CCookie.delCookie=e=>{document.cookie=`${encodeURIComponent(e)}=;expires=${new Date}`},CCookie.clearAllCookies=document.cookie.split(";").forEach(e=>document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date(0).toUTCString()};path=/`));class CRegular extends BaseObject{}CRegular.checkID=e=>/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e),CRegular.haveCNChars=e=>/[\u4e00-\u9fa5]/.test(e),CRegular.isPostCode=e=>/^[1-9][0-9]{5}$/.test(e.toString()),CRegular.isIPv6=e=>Boolean(e.match(/:/g)?e.match(/:/g).length<=7:/^([\da-f]{1,4}:){7}[\da-f]{1,4}$/i.test(e)),CRegular.isEmail=e=>/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e),CRegular.isTel=e=>/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(e.toString()),CRegular.isEmojiCharacter=e=>{e=String(e);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(55296<=n&&n<=56319){if(e.length>1){const r=1024*(n-55296)+(e.charCodeAt(t+1)-56320)+65536;if(118784<=r&&r<=128895)return!0}}else if(e.length>1){if(8419==e.charCodeAt(t+1))return!0}else{if(8448<=n&&n<=10239)return!0;if(11013<=n&&n<=11015)return!0;if(10548<=n&&n<=10549)return!0;if(12951<=n&&n<=12953)return!0;if(169==n||174==n||12349==n||12336==n||11093==n||11036==n||11035==n||11088==n)return!0}}return!1};class CUrl extends BaseObject{}CUrl.parseUrlSearch=function(e){return!defined(e)&&defined(location)&&defined(location.search)&&(e=location.search),e.replace(/(^\?)|(&$)/g,"").split("&").reduce((e,t)=>{const[n,r]=t.split("=");return e[n]=decodeURIComponent(r),e},{})},CUrl.getQueryVariable=(e,t)=>{for(var n=(t&&t.includes("?")?t.split("?")[1]:t||window.location.search.substring(1)).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]==e)return o[1]}},CUrl.getUrlState=e=>{let t=new ActiveXObject("microsoft.xmlhttp");t.Open("GET",e,!1);try{t.Send()}catch(e){}finally{return!!t.responseText&&200==t.Status}},CUrl.params2Url=e=>{let t=[];for(let n in e)t.push(`${n}=${e.get(n)}`);return encodeURIComponent(t.join("&"))},CUrl.replaceParamVal=(paramName,replaceWith,url)=>{const oUrl=url||location.href.toString(),re=eval("/("+paramName+"=)([^&]*)/gi");return location.href=oUrl.replace(re,paramName+"="+replaceWith),location.href};class CDevice extends BaseObject{}CDevice.isMobile=()=>navigator.userAgent.match(/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i)?"mobile":"desktop",CDevice.isAppleMobileDevice=()=>/iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase()),CDevice.isAndroidMobileDevice=()=>/android/i.test(navigator.userAgent.toLowerCase()),CDevice.osType=()=>{const e=navigator.userAgent.toLowerCase(),t=/macintosh|mac os x/i.test(navigator.userAgent);return e.indexOf("win64")>=0||e.indexOf("wow64")>=0||e.indexOf("win32")>=0||e.indexOf("wow32")>=0?"windows":t?"mac":void 0};class CBrowser extends BaseObject{}_a$2=CBrowser,CBrowser.redirect=e=>location.href=e,CBrowser.showPrintDialog=()=>window.print(),CBrowser.copyToClipboard=e=>navigator.clipboard.writeText(e),CBrowser.getSelectedText=()=>window.getSelection().toString(),CBrowser.scrollToTop=()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(_a$2.scrollToTop),window.scrollTo(0,e-e/8))},CBrowser.scrollToBottom=()=>{window.scrollTo(0,document.documentElement.clientHeight)},CBrowser.scrolledToBottom=()=>document.documentElement.clientHeight+window.scrollY>=document.documentElement.scrollHeight,CBrowser.smoothScroll=e=>{document.querySelector(e).scrollIntoView({behavior:"smooth"})},CBrowser.getScrollOffset=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.body.scrollLeft+document.documentElement.scrollLeft,y:document.body.scrollTop+document.documentElement.scrollTop}},CBrowser.getClientHeight=()=>{let e=0;return e=document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight,e},CBrowser.getPageViewWidth=()=>("BackCompat"==document.compatMode?document.body:document.documentElement).clientWidth,CBrowser.getViewportOffset=function(){return window.innerWidth?{w:window.innerWidth,h:window.innerHeight}:"BackCompat"===document.compatMode?{w:document.body.clientWidth,h:document.body.clientHeight}:{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}},CBrowser.traverse=function(e,t){t(e);for(var n=e.children,r=0;r<n.length;r++)CBrowser.traverse(n[r],t)},CBrowser.parents=function(e,t=1){for(;e&&t;)e=e.parentElement?e.parentElement:e.parentNode,t--;return e},CBrowser.myChildren=function(e){for(var t=e.childNodes,n=[],r=t.length,o=0;o<r;o++)1===t[o].nodeType&&n.push(t[o]);return n},CBrowser.hasChildren=function(e){for(var t=e.childNodes,n=t.length,r=0;r<n;r++)if(1===t[r].nodeType)return!0;return!1},CBrowser.getElementsByClassName=function(e){for(var t,n=document.getElementsByTagName("*"),r=[],o=0;o<n.length;o++)for(var s=(t=n[o].className,t.replace(/\s+/g," ").trim()).split(" "),l=0;l<s.length;l++)if(s[l]==e){r.push(n[o]);break}return r};class CDataTime extends BaseObject{}CDataTime.nowTime=()=>{const e=new Date;return+e.getFullYear()+"年"+(e.getMonth()+1)+"月"+(e.getDate()>=10?e.getDate():"0"+e.getDate())+"日 "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds())},CDataTime.dateFormater=(e,t)=>{let n=t?new Date(t):new Date,r=n.getFullYear()+"",o=n.getMonth()+1,s=n.getDate(),l=n.getHours(),i=n.getMinutes(),m=n.getSeconds();return e.replace(/YYYY|yyyy/g,r).replace(/YY|yy/g,r.substr(2,2)).replace(/MM/g,(o<10?"0":"")+o).replace(/DD/g,(s<10?"0":"")+s).replace(/HH|hh/g,(l<10?"0":"")+l).replace(/mm/g,(i<10?"0":"")+i).replace(/ss/g,(m<10?"0":"")+m)},CDataTime.isDateValid=e=>!Number.isNaN(new Date(e).valueOf()),CDataTime.dayDif=(e,t)=>Math.ceil(Math.abs(e.getTime()-t.getTime())/864e5),CDataTime.dayOfYear=e=>Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/1e3/60/60/24),CDataTime.timeFromDate=e=>e.toTimeString().slice(0,8);class CMath{}_a$1=CMath,CMath.PI=Math.PI,CMath.ONE_OVER_PI=1/Math.PI,CMath.PI_OVER_TWO=Math.PI/2,CMath.PI_OVER_THREE=Math.PI/3,CMath.PI_OVER_FOUR=Math.PI/4,CMath.PI_OVER_SIX=Math.PI/6,CMath.THREE_PI_OVER_TWO=3*Math.PI/2,CMath.TWO_PI=2*Math.PI,CMath.ONE_OVER_TWO_PI=1/(2*Math.PI),CMath.RADIANS_PER_DEGREE=Math.PI/180,CMath.DEGREES_PER_RADIAN=180/Math.PI,CMath.RADIANS_PER_ARCSECOND=_a$1.RADIANS_PER_DEGREE/3600,CMath.toRadians=e=>e*_a$1.RADIANS_PER_DEGREE,CMath.toDegrees=e=>e*_a$1.DEGREES_PER_RADIAN,CMath.sign=defaultValue(Math.sign,function(e){return 0==(e=+e)||e!=e?e:e>0?1:-1}),CMath.signNotZero=function(e){return e<0?-1:1},CMath.mod=(e,t)=>{if(!defined(e))throw new DeveloperError("m is required.");if(!defined(t))throw new DeveloperError("n is required.");if(0===t)throw new DeveloperError("divisor cannot be 0.");return _a$1.sign(e)===_a$1.sign(t)&&Math.abs(e)<Math.abs(t)?e:(e%t+t)%t},CMath.clamp=function(e,t,n){if(!defined(e))throw new DeveloperError("value is required");if(!defined(t))throw new DeveloperError("min is required.");if(!defined(n))throw new DeveloperError("max is required.");return e<t?t:e>n?n:e},CMath.acosClamped=function(e){if(!defined(e))throw new DeveloperError("value is required.");return Math.acos(CMath.clamp(e,-1,1))},CMath.lerp=function(e,t,n){return(1-n)*e+n*t};class Vector2{constructor(e,t){this.x=0,this.y=0,this.setLength=(e,t)=>(defined(t)&&t instanceof Vector2||(t=new Vector2),Vector2.multiplyByScalar(this.normalize(),e,t),t),this.add=e=>Vector2.add(this,e,this),this.applyMatrix3=e=>{const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},this.clamp=(e,t)=>(this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this),this.clampScalar=(e,t)=>(this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this),this.clampLength=(e,t)=>{const n=Vector2.magnitude(this);var r=new Vector2;return Vector2.divideByScalar(this,n||1,r),Vector2.multiplyByScalar(r,Math.max(e,Math.min(t,n)),r),r},this.floor=()=>(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this),this.ceil=()=>(this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this),this.round=()=>(this.x=Math.round(this.x),this.y=Math.round(this.y),this),this.normalize=e=>{defined(e)||(e=new Vector2);var t=Vector2.magnitude(this);return e.x=this.x/t,e.y=this.y/t,e},this.clone=e=>(defined(e)||(e=new Vector2),Vector2.clone(this,e)),this.equals=e=>Vector2.equals(this,e),this.fromArray=(e,t=0)=>(this.x=e[t],this.y=e[t+1],this),this.toArray=(e=0,t)=>(defined(t)&&Array.isArray(t)||(t=new Array),t[e]=this.x,t[e+1]=this.y,t),this.length=()=>Vector2.magnitude(this),this.toString=()=>"("+this.x+", "+this.y+")",this.x=defaultValue(e,0),this.y=defaultValue(t,0)}}Vector2.fromElements=function(e,t,n){return defined(n)?(n.x=e,n.y=t,n):new Vector2(e,t)},Vector2.clone=function(e,t){if(defined(e))return defined(t)?(t.x=e.x,t.y=e.y,t):new Vector2(e.x,e.y)},Vector2.fromVector2=Vector2.clone,Vector2.fromVector4=Vector2.clone,Vector2.packedLength=2,Vector2.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},Vector2.magnitude=function(e){return Math.sqrt(Vector2.magnitudeSquared(e))},Vector2.distance=function(e,t){var n=new Vector2;return Vector2.subtract(e,t,n),Vector2.magnitude(n)},Vector2.distanceSquared=function(e,t){var n=new Vector2;return Vector2.subtract(e,t,n),Vector2.magnitudeSquared(n)},Vector2.add=function(e,t,n){return defined(n)||(n=new Vector2),n.x=e.x+t.x,n.y=e.y+t.y,n},Vector2.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n},Vector2.min=function(e,t,n){return defined(n)||(n=new Vector2),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},Vector2.minFromArray=function(e,t){if(defined(t)||(t=new Vector2),e.length>0)for(let n=0;n<e.length;n++)t=Vector2.min(e[n],t);return t},Vector2.max=function(e,t,n){return defined(n)||(n=new Vector2),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},Vector2.maxFromArray=function(e,t){if(defined(t)||(t=new Vector2),e.length>0)for(let n=0;n<e.length;n++)t=Vector2.max(e[n],t);return t},Vector2.normalize=function(e,t){var n=Vector2.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t},Vector2.dot=function(e,t){return e.x*t.x+e.y*t.y},Vector2.cross=function(e,t){return e.x*t.y-e.y*t.x},Vector2.midpoint=function(e,t,n){return n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n},Vector2.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n},Vector2.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n},Vector2.multiplyByScalar=function(e,t,n){return defined(n)||(n=new Vector2),n.x=e.x*t,n.y=e.y*t,n},Vector2.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n},Vector2.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},Vector2.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t},Vector2.lerp=function(e,t,n,r){defined(r)||(r=new Vector2);let o=new Vector2;return Vector2.multiplyByScalar(t,n,o),r=Vector2.multiplyByScalar(e,1-n,r),Vector2.add(o,r,r)},Vector2.angleBetween=function(e,t){let n=new Vector2,r=new Vector2;return Vector2.normalize(e,n),Vector2.normalize(t,r),CMath.acosClamped(Vector2.dot(n,r))},Vector2.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.x===t.x&&e.y===t.y},Vector2.ZERO=Object.freeze(new Vector2(0,0)),Vector2.ONE=Object.freeze(new Vector2(1,1)),Vector2.UNIT_X=Object.freeze(new Vector2(1,0)),Vector2.UNIT_Y=Object.freeze(new Vector2(0,1)),Vector2.random=function(e){return defined(e)||(e=new Vector2),e.x=Math.random(),e.y=Math.random(),e};class Vector3{constructor(e,t,n){this.x=0,this.y=0,this.z=0,this.setLength=(e,t)=>(defined(t)&&t instanceof Vector3||(t=new Vector3),Vector3.multiplyByScalar(this.normalize(),e,t),t),this.add=e=>Vector3.add(this,e,this),this.applyMatrix4=e=>{const t=this.x,n=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*s,this},this.clamp=(e,t)=>(this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this),this.clampScalar=(e,t)=>(this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this),this.clampLength=(e,t)=>{const n=Vector3.magnitude(this);var r=new Vector3;return Vector3.divideByScalar(this,n||1,r),Vector3.multiplyByScalar(r,Math.max(e,Math.min(t,n)),r),r},this.floor=()=>(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this),this.ceil=()=>(this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this),this.round=()=>(this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this),this.normalize=e=>{defined(e)||(e=new Vector3);var t=Vector3.magnitude(this);return e.x=this.x/t,e.y=this.y/t,e.z=this.z/t,e},this.clone=e=>(e=defaultValue(e,new Vector3),Vector3.clone(this,e)),this.equals=e=>Vector3.equals(this,e),this.fromArray=(e,t=0)=>(this.x=e[t],this.y=e[t+1],this.z=e[t+2],this),this.toArray=(e=0,t)=>(defined(t)&&Array.isArray(t)||(t=new Array),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t),this.length=()=>Vector3.magnitude(this),this.toString=()=>"("+this.x+", "+this.y+", "+this.z+")",this.x=defaultValue(e,0),this.y=defaultValue(t,0),this.z=defaultValue(n,0)}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,s=e.y,l=e.z,i=e.w,m=i*t+s*r-l*n,a=i*n+l*t-o*r,c=i*r+o*n-s*t,u=-o*t-s*n-l*r;return this.x=m*i+u*-o+a*-l-c*-s,this.y=a*i+u*-s+c*-o-m*-l,this.z=c*i+u*-l+m*-s-a*-o,this}}Vector3.fromElements=function(e,t,n,r){return defined(r)?(r.x=e,r.y=t,r.z=n,r):new Vector3(e,t,n)},Vector3.fromQuaternion=function(e,t){return defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new Vector3(e.x,e.y,e.z)},Vector3.clone=function(e,t){if(defined(e))return defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new Vector3(e.x,e.y,e.z)},Vector3.fromVector4=Vector3.clone,Vector3.packedLength=3,Vector3.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},Vector3.magnitude=function(e){return Math.sqrt(Vector3.magnitudeSquared(e))},Vector3.distance=function(e,t){var n=new Vector3;return Vector3.subtract(e,t,n),Vector3.magnitude(n)},Vector3.distanceSquared=function(e,t){var n=new Vector3;return Vector3.subtract(e,t,n),Vector3.magnitudeSquared(n)},Vector3.add=function(e,t,n){return defined(n)||(n=new Vector3),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},Vector3.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.y=e.z-t.z,n},Vector3.min=function(e,t,n){return defined(n)||(n=new Vector3),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},Vector3.minFromArray=function(e,t){if(defined(t)||(t=new Vector3),e.length>0)for(let n=0;n<e.length;n++)t=Vector3.min(e[n],t);return t},Vector3.max=function(e,t,n){return defined(n)||(n=new Vector3),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},Vector3.maxFromArray=function(e,t){if(defined(t)||(t=new Vector3),e.length>0)for(let n=0;n<e.length;n++)t=Vector3.max(e[n],t);return t},Vector3.normalize=function(e,t){var n=Vector3.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},Vector3.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},Vector3.cross=function(e,t,n){var r=e.x,o=e.y,s=e.z,l=t.x,i=t.y,m=t.z,a=s*l-r*m,c=r*i-o*l;return n.x=o*m-s*i,n.y=a,n.z=c,n},Vector3.midpoint=function(e,t,n){return n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},Vector3.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},Vector3.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},Vector3.multiplyByScalar=function(e,t,n){return defined(n)||(n=new Vector3),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},Vector3.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},Vector3.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},Vector3.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t},Vector3.lerp=function(e,t,n,r){defined(r)||(r=new Vector3);let o=new Vector3;return Vector3.multiplyByScalar(t,n,o),r=Vector3.multiplyByScalar(e,1-n,r),Vector3.add(o,r,r)},Vector3.angleBetween=function(e,t){let n=new Vector3,r=new Vector3;Vector3.normalize(e,n),Vector3.normalize(t,r);var o=Vector3.dot(n,r),s=Vector3.magnitude(Vector3.cross(n,r,n));return Math.atan2(s,o)},Vector3.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},Vector3.ZERO=Object.freeze(new Vector3(0,0,0)),Vector3.ONE=Object.freeze(new Vector3(1,1,1)),Vector3.UNIT_X=Object.freeze(new Vector3(1,0,0)),Vector3.UNIT_Y=Object.freeze(new Vector3(0,1,0)),Vector3.UNIT_Z=Object.freeze(new Vector3(0,0,1)),Vector3.random=function(e){return defined(e)||(e=new Vector3),e.x=Math.random(),e.y=Math.random(),e.z=Math.random(),e};class Vector4{constructor(e,t,n,r){this.x=0,this.y=0,this.z=0,this.w=0,this.setLength=(e,t)=>(defined(t)&&t instanceof Vector4||(t=new Vector4),Vector4.multiplyByScalar(this.normalize(),e,t),t),this.add=e=>Vector4.add(this,e,this),this.clamp=(e,t)=>(this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this),this.clampScalar=(e,t)=>(this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this),this.clampLength=(e,t)=>{const n=Vector4.magnitude(this);var r=new Vector4;return Vector4.divideByScalar(this,n||1,r),Vector4.multiplyByScalar(r,Math.max(e,Math.min(t,n)),r),r},this.floor=()=>(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this),this.ceil=()=>(this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this),this.round=()=>(this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this),this.normalize=e=>{defined(e)||(e=new Vector4);var t=Vector4.magnitude(this);return e.x=this.x/t,e.y=this.y/t,e.z=this.z/t,e.w=this.w/t,e},this.clone=e=>Vector4.clone(this,e),this.equals=e=>Vector4.equals(this,e),this.fromArray=(e,t=0)=>(this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this),this.toArray=(e=0,t)=>(defined(t)&&Array.isArray(t)||(t=new Array),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t),this.length=()=>Vector4.magnitude(this),this.toString=()=>"("+this.x+", "+this.y+", "+this.z+", "+this.w+")",this.x=defaultValue(e,0),this.y=defaultValue(t,0),this.z=defaultValue(n,0),this.w=defaultValue(r,0)}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*o,this}}Vector4.fromElements=function(e,t,n,r,o){return defined(o)?(o.x=e,o.y=t,o.z=n,o.w=r,o):new Vector4(e,t,n,r)},Vector4.fromColor=function(e,t){return defined(t)?(t.x=e.r,t.y=e.g,t.z=e.b,t.w=e.a,t):new Vector4(e.r,e.g,e.b,e.a)},Vector4.clone=function(e,t){if(defined(e))return defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Vector4(e.x,e.y,e.z,e.w)},Vector4.packedLength=4,Vector4.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Vector4.magnitude=function(e){return Math.sqrt(Vector4.magnitudeSquared(e))},Vector4.distance=function(e,t){var n=new Vector4;return Vector4.subtract(e,t,n),Vector4.magnitude(n)},Vector4.distanceSquared=function(e,t){var n=new Vector4;return Vector4.subtract(e,t,n),Vector4.magnitudeSquared(n)},Vector4.add=function(e,t,n){return defined(n)||(n=new Vector4),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},Vector4.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.y=e.z-t.z,n.w=e.w-t.w,n},Vector4.min=function(e,t,n){return defined(n)||(n=new Vector4),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},Vector4.minFromArray=function(e,t){if(defined(t)||(t=new Vector4),e.length>0)for(let n=0;n<e.length;n++)t=Vector4.min(e[n],t);return t},Vector4.max=function(e,t,n){return defined(n)||(n=new Vector4),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},Vector4.maxFromArray=function(e,t){if(defined(t)||(t=new Vector4),e.length>0)for(let n=0;n<e.length;n++)t=Vector4.max(e[n],t);return t},Vector4.normalize=function(e,t){var n=Vector4.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},Vector4.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Vector4.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},Vector4.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},Vector4.multiplyByScalar=function(e,t,n){return defined(n)||(n=new Vector4),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},Vector4.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},Vector4.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Vector4.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t},Vector4.lerp=function(e,t,n,r){defined(r)||(r=new Vector4);let o=new Vector4;return Vector4.multiplyByScalar(t,n,o),r=Vector4.multiplyByScalar(e,1-n,r),Vector4.add(o,r,r)},Vector4.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Vector4.ZERO=Object.freeze(new Vector4(0,0,0,0)),Vector4.ONE=Object.freeze(new Vector4(1,1,1,1)),Vector4.UNIT_X=Object.freeze(new Vector4(1,0,0,0)),Vector4.UNIT_Y=Object.freeze(new Vector4(0,1,0,0)),Vector4.UNIT_Z=Object.freeze(new Vector4(0,0,1,0)),Vector4.UNIT_W=Object.freeze(new Vector4(0,0,0,1)),Vector4.random=function(e){return defined(e)||(e=new Vector4),e.x=Math.random(),e.y=Math.random(),e.z=Math.random(),e.w=Math.random(),e};class Box2{constructor(e,t){this.min=new Vector2(Infinity,Infinity),this.max=new Vector2(-Infinity,-Infinity),this.isBox2=!0,this.expandByPoint=e=>(this.min=Vector2.min(this.min,e),this.max=Vector2.min(this.max,e),this),this.clone=e=>(defined(e)||(e=new Box2),Box2.clone(this,e),e),this.makeEmpty=()=>(this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this),this.isEmpty=()=>this.max.x<this.min.x||this.max.y<this.min.y,this.getCenter=e=>(defined(e)||(e=Vector2.ZERO.clone()),this.isEmpty()?Vector2.ZERO.clone(e):(Vector2.add(this.min,this.max,e),Vector2.multiplyByScalar(e,.5,e)),e),this.getSize=e=>(defined(e)||(e=Vector2.ZERO.clone()),this.isEmpty()?Vector2.ZERO.clone(e):Vector2.subtract(this.max,this.min,e),e),this.expandByVector=e=>(Vector2.subtract(this.min,e,this.min),Vector2.add(this.max,e,this.max),this),this.multiplyByScalar=e=>{var t=this.getCenter(),n=this.getSize();return Vector2.multiplyByScalar(n,e,n),Box2.fromCenterAndSize(t,n,this),this},this.multiplyComponents=e=>{var t=this.getCenter(),n=this.getSize();return Vector2.multiplyComponents(n,e,n),Box2.fromCenterAndSize(t,n,this),this},this.containsPoint=e=>!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y),this.containsBox=e=>this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y,this.intersectsBox=e=>!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y),this.distanceToPoint=e=>{var t=new Vector2;Vector2.clone(e,t);const n=t.clamp(this.min,this.max);var r=new Vector2;return Vector2.subtract(n,e,r),Vector2.magnitude(r)},this.intersect=e=>(Vector2.max(this.min,e.min,this.min),Vector2.min(this.max,e.max,this.max),this.isEmpty()&&this.makeEmpty(),this),this.union=e=>(Vector2.min(this.min,e.min,this.min),Vector2.max(this.max,e.max,this.max),this),this.translate=e=>(this.min.add(e),this.max.add(e),this),this.equals=e=>e.min.equals(this.min)&&e.max.equals(this.max),this.min=defaultValue(e,this.min),this.max=defaultValue(t,this.max)}set(e,t){return e.clone(this.min),t.clone(this.max),this}}Box2.fromArray=function(e,t){if(0==e.length||e.length%3!=0)throw new DeveloperError("array's length must be a multiple of 3.");let n=Infinity,r=Infinity,o=-Infinity,s=-Infinity;for(let t=0,l=e.length;t<l;t+=3){const l=e[t],i=e[t+1];l<n&&(n=l),i<r&&(r=i),l>o&&(o=l),i>s&&(s=i)}return defined(t)?(t.min.x=n,t.min.y=r,t.max.x=o,t.max.y=s):t=new Box2(new Vector2(n,r),new Vector2(o,s)),t},Box2.fromPoints=function(e,t){defined(t)||(t=new Box2);for(let n=0,r=e.length;n<r;n++)t.expandByPoint(e[n]);return t},Box2.fromCenterAndSize=function(e,t,n){defined(n)||(n=new Box2);const r=new Vector2;return Vector2.multiplyByScalar(t,.5,r),Vector2.subtract(e,r,n.min),Vector2.add(e,r,n.max),n},Box2.clone=function(e,t){return defined(t)||(t=new Box2),Vector2.clone(e.min,t.min),Vector2.clone(e.max,t.max),t};class Box3{constructor(e,t){this.min=new Vector3(Infinity,Infinity,Infinity),this.max=new Vector3(-Infinity,-Infinity,-Infinity),this.isBox3=!0,this.expandByPoint=e=>(this.min=Vector3.min(this.min,e),this.max=Vector3.min(this.max,e),this),this.clone=e=>(defined(e)||(e=new Box3),Box3.clone(this,e),e),this.makeEmpty=()=>(this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this),this.isEmpty=()=>this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z,this.getCenter=e=>(defined(e)||(e=Vector3.ZERO.clone()),this.isEmpty()?Vector3.ZERO.clone(e):(Vector3.add(this.min,this.max,e),Vector3.multiplyByScalar(e,.5,e)),e),this.getSize=e=>(defined(e)||(e=Vector3.ZERO.clone()),this.isEmpty()?Vector3.ZERO.clone(e):Vector3.subtract(this.max,this.min,e),e),this.expandByVector=e=>(Vector3.subtract(this.min,e,this.min),Vector3.add(this.max,e,this.max),this),this.multiplyByScalar=e=>{var t=this.getCenter(),n=this.getSize();return Vector3.multiplyByScalar(n,e,n),Box3.fromCenterAndSize(t,n,this),this},this.multiplyComponents=e=>{var t=this.getCenter(),n=this.getSize();return Vector3.multiplyComponents(n,e,n),Box3.fromCenterAndSize(t,n,this),this},this.containsPoint=e=>!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z),this.containsBox=e=>this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z,this.intersectsBox=e=>!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z),this.distanceToPoint=e=>{var t=new Vector3;Vector3.clone(e,t);const n=t.clamp(this.min,this.max);var r=new Vector3;return Vector3.subtract(n,e,r),Vector3.magnitude(r)},this.intersect=e=>(Vector3.max(this.min,e.min,this.min),Vector3.min(this.max,e.max,this.max),this.isEmpty()&&this.makeEmpty(),this),this.union=e=>(Vector3.min(this.min,e.min,this.min),Vector3.max(this.max,e.max,this.max),this),this.applyMatrix4=e=>{if(this.isEmpty())return this;const t=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3];return t[0].fromArray([this.min.x,this.min.y,this.min.z]).applyMatrix4(e),t[1].fromArray([this.min.x,this.min.y,this.max.z]).applyMatrix4(e),t[2].fromArray([this.min.x,this.max.y,this.min.z]).applyMatrix4(e),t[3].fromArray([this.min.x,this.max.y,this.max.z]).applyMatrix4(e),t[4].fromArray([this.max.x,this.min.y,this.min.z]).applyMatrix4(e),t[5].fromArray([this.max.x,this.min.y,this.max.z]).applyMatrix4(e),t[6].fromArray([this.max.x,this.max.y,this.min.z]).applyMatrix4(e),t[7].fromArray([this.max.x,this.max.y,this.max.z]).applyMatrix4(e),Box3.fromPoints(t)},this.translate=e=>(this.min.add(e),this.max.add(e),this),this.equals=e=>e.min.equals(this.min)&&e.max.equals(this.max),this.min=defaultValue(e,this.min),this.max=defaultValue(t,this.max)}set(e,t){return e.clone(this.min),t.clone(this.max),this}}Box3.fromArray=function(e,t){if(0==e.length||e.length%3!=0)throw new DeveloperError("array's length must be a multiple of 3.");let n=Infinity,r=Infinity,o=Infinity,s=-Infinity,l=-Infinity,i=-Infinity;for(let t=0,m=e.length;t<m;t+=3){const m=e[t],a=e[t+1],c=e[t+2];m<n&&(n=m),a<r&&(r=a),c<o&&(o=c),m>s&&(s=m),a>l&&(l=a),c>i&&(i=c)}return defined(t)?(t.min.x=n,t.min.y=r,t.min.z=o,t.max.x=s,t.max.y=l,t.max.z=i):t=new Box3(new Vector3(n,r,o),new Vector3(s,l,i)),t},Box3.fromPoints=function(e,t){defined(t)||(t=new Box3);for(let n=0,r=e.length;n<r;n++)t.expandByPoint(e[n]);return t},Box3.fromCenterAndSize=function(e,t,n){defined(n)||(n=new Box3);const r=new Vector3;return Vector3.multiplyByScalar(t,.5,r),Vector3.subtract(e,r,n.min),Vector3.add(e,r,n.max),n},Box3.clone=function(e,t){return defined(t)||(t=new Box3),Vector3.clone(e.min,t.min),Vector3.clone(e.max,t.max),t};let _colorKeywords={ALICEBLUE:15792383,ANTIQUEWHITE:16444375,AQUA:65535,AQUAMARINE:8388564,AZURE:15794175,BEIGE:16119260,BISQUE:16770244,BLACK:0,BLANCHEDALMOND:16772045,BLUE:255,BLUEVIOLET:9055202,BROWN:10824234,BURLYWOOD:14596231,CADETBLUE:6266528,CHARTREUSE:8388352,CHOCOLATE:13789470,CORAL:16744272,CORNFLOWERBLUE:6591981,CORNSILK:16775388,CRIMSON:14423100,CYAN:65535,DARKBLUE:139,DARKCYAN:35723,DARKGOLDENROD:12092939,DARKGRAY:11119017,DARKGREEN:25600,DARKGREY:11119017,DARKKHAKI:12433259,DARKMAGENTA:9109643,DARKOLIVEGREEN:5597999,DARKORANGE:16747520,DARKORCHID:10040012,DARKRED:9109504,DARKSALMON:15308410,DARKSEAGREEN:9419919,DARKSLATEBLUE:4734347,DARKSLATEGRAY:3100495,DARKSLATEGREY:3100495,DARKTURQUOISE:52945,DARKVIOLET:9699539,DEEPPINK:16716947,DEEPSKYBLUE:49151,DIMGRAY:6908265,DIMGREY:6908265,DODGERBLUE:2003199,FIREBRICK:11674146,FLORALWHITE:16775920,FORESTGREEN:2263842,FUCHSIA:16711935,GAINSBORO:14474460,GHOSTWHITE:16316671,GOLD:16766720,GOLDENROD:14329120,GRAY:8421504,GREEN:32768,GREENYELLOW:11403055,GREY:8421504,HONEYDEW:15794160,HOTPINK:16738740,INDIANRED:13458524,INDIGO:4915330,IVORY:16777200,KHAKI:15787660,LAVENDER:15132410,LAVENDERBLUSH:16773365,LAWNGREEN:8190976,LEMONCHIFFON:16775885,LIGHTBLUE:11393254,LIGHTCORAL:15761536,LIGHTCYAN:14745599,LIGHTGOLDENRODYELLOW:16448210,LIGHTGRAY:13882323,LIGHTGREEN:9498256,LIGHTGREY:13882323,LIGHTPINK:16758465,LIGHTSALMON:16752762,LIGHTSEAGREEN:2142890,LIGHTSKYBLUE:8900346,LIGHTSLATEGRAY:7833753,LIGHTSLATEGREY:7833753,LIGHTSTEELBLUE:11584734,LIGHTYELLOW:16777184,LIME:65280,LIMEGREEN:3329330,LINEN:16445670,MAGENTA:16711935,MAROON:8388608,MEDIUMAQUAMARINE:6737322,MEDIUMBLUE:205,MEDIUMORCHID:12211667,MEDIUMPURPLE:9662683,MEDIUMSEAGREEN:3978097,MEDIUMSLATEBLUE:8087790,MEDIUMSPRINGGREEN:64154,MEDIUMTURQUOISE:4772300,MEDIUMVIOLETRED:13047173,MIDNIGHTBLUE:1644912,MINTCREAM:16121850,MISTYROSE:16770273,MOCCASIN:16770229,NAVAJOWHITE:16768685,NAVY:128,OLDLACE:16643558,OLIVE:8421376,OLIVEDRAB:7048739,ORANGE:16753920,ORANGERED:16729344,ORCHID:14315734,PALEGOLDENROD:15657130,PALEGREEN:10025880,PALETURQUOISE:11529966,PALEVIOLETRED:14381203,PAPAYAWHIP:16773077,PEACHPUFF:16767673,PERU:13468991,PINK:16761035,PLUM:14524637,POWDERBLUE:11591910,PURPLE:8388736,REBECCAPURPLE:6697881,RED:16711680,ROSYBROWN:12357519,ROYALBLUE:4286945,SADDLEBROWN:9127187,SALMON:16416882,SANDYBROWN:16032864,SEAGREEN:3050327,SEASHELL:16774638,SIENNA:10506797,SILVER:12632256,SKYBLUE:8900331,SLATEBLUE:6970061,SLATEGRAY:7372944,SLATEGREY:7372944,SNOW:16775930,SPRINGGREEN:65407,STEELBLUE:4620980,TAN:13808780,TEAL:32896,THISTLE:14204888,TOMATO:16737095,TURQUOISE:4251856,VIOLET:15631086,WHEAT:16113331,WHITE:16777215,WHITESMOKE:16119285,YELLOW:16776960,YELLOWGREEN:10145074};var rgbaMatcher=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,rrggbbaaMatcher=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,rgbParenthesesMatcher=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,hslParenthesesMatcher=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i,_a;function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}class Color{constructor(e,t,n,r){this.r=1,this.g=1,this.b=1,this.a=1,this.isColor=!0,this.getHex=()=>255*this.r<<16^255*this.g<<8^255*this.b<<0,this.getHexString=()=>("000000"+this.getHex().toString(16)).slice(-6),this.toString=()=>"("+this.r+", "+this.g+", "+this.b+", "+this.a+")",this.toCssColorString=()=>{var e=Color.floatToByte(this.r),t=Color.floatToByte(this.g),n=Color.floatToByte(this.b);return 1===this.a?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+this.a+")"},this.toCssHexString=()=>{var e=Color.floatToByte(this.r).toString(16);e.length<2&&(e="0"+e);var t=Color.floatToByte(this.g).toString(16);t.length<2&&(t="0"+t);var n=Color.floatToByte(this.b).toString(16);if(n.length<2&&(n="0"+n),this.a<1){var r=Color.floatToByte(this.a).toString(16);return r.length<2&&(r="0"+r),"#"+e+t+n+r}return"#"+e+t+n},this.toBytes=e=>{var t=Color.floatToByte(this.r),n=Color.floatToByte(this.g),r=Color.floatToByte(this.b),o=Color.floatToByte(this.a);return defined(e)?(e[0]=t,e[1]=n,e[2]=r,e[3]=o,e):[t,n,r,o]},this.withAlpha=(e,t)=>Color.fromAlpha(this,e,t),this.equals=e=>e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a,this.r=defaultValue(e,1),this.g=defaultValue(t,1),this.b=defaultValue(n,1),this.a=defaultValue(r,1)}}Color._NAMES=_colorKeywords,Color.fromVector4=function(e,t){return defined(t)?(t.r=e.x,t.g=e.y,t.b=e.z,t.a=e.w,t):new Color(e.x,e.y,e.z,e.w)},Color.fromBytes=function(e,t,n,r,o){return e=Color.byteToFloat(defaultValue(e,255)),t=Color.byteToFloat(defaultValue(t,255)),n=Color.byteToFloat(defaultValue(n,255)),r=Color.byteToFloat(defaultValue(r,255)),defined(o)?(o.r=e,o.g=t,o.b=n,o.a=r,o):new Color(e,t,n,r)},Color.fromAlpha=function(e,t,n){return defined(n)?(n.r=e.r,n.g=e.g,n.b=e.b,n.a=t,n):new Color(e.r,e.g,e.b,t)},Color.fromDec=function(e,t){defined(t)||(t=new Color);var n=Math.floor(e/65536),r=Math.floor(e%65536/256),o=Math.floor(e%256);return t.r=n,t.g=r,t.b=o,t.a=1,t},Color.fromHex=Color.fromDec,Color.fromHsl=function(e,t,n,r,o){e=defaultValue(e,0)%1,t=defaultValue(t,0),n=defaultValue(n,0),r=defaultValue(r,1);var s=n,l=n,i=n;if(0!==t){var m,a=2*n-(m=n<.5?n*(1+t):n+t-n*t);s=hue2rgb(a,m,e+1/3),l=hue2rgb(a,m,e),i=hue2rgb(a,m,e-1/3)}return defined(o)?(o.r=s,o.g=l,o.b=i,o.a=r,o):new Color(s,l,i,r)},Color.fromCssColorString=function(e,t){defined(t)||(t=new Color),e=e.replace(/\s/g,"");var n=Color._NAMES[e.toLowerCase()];if(defined(n))return Color.fromDec(n,t),t;var r=rgbaMatcher.exec(e);return null!==r?(t.r=parseInt(r[1],16)/15,t.g=parseInt(r[2],16)/15,t.b=parseInt(r[3],16)/15,t.a=parseInt(defaultValue(r[4],"f"),16)/15,t):null!==(r=rrggbbaaMatcher.exec(e))?(t.r=parseInt(r[1],16)/255,t.g=parseInt(r[2],16)/255,t.b=parseInt(r[3],16)/255,t.a=parseInt(defaultValue(r[4],"ff"),16)/255,t):null!==(r=rgbParenthesesMatcher.exec(e))?(t.r=parseFloat(r[1])/("%"===r[1].substr(-1)?100:255),t.g=parseFloat(r[2])/("%"===r[2].substr(-1)?100:255),t.b=parseFloat(r[3])/("%"===r[3].substr(-1)?100:255),t.a=parseFloat(defaultValue(r[4],"1.0")),t):null!==(r=hslParenthesesMatcher.exec(e))?Color.fromHsl(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,parseFloat(defaultValue(r[4],"1.0")),t):void 0},Color.packedLength=4,Color.byteToFloat=function(e){return e/255},Color.floatToByte=function(e){return 1===e?255:256*e|0},Color.clone=function(e,t){if(defined(e))return defined(t)?(t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a,t):new Color(e.r,e.g,e.b,e.a)},Color.add=function(e,t,n){return n.r=e.r+t.r,n.g=e.g+t.g,n.b=e.b+t.b,n.a=e.a+t.a,n},Color.subtract=function(e,t,n){return n.r=e.r-t.r,n.g=e.g-t.g,n.b=e.b-t.b,n.a=e.a-t.a,n},Color.multiply=function(e,t,n){return n.r=e.r*t.r,n.g=e.g*t.g,n.b=e.b*t.b,n.a=e.a*t.a,n},Color.divide=function(e,t,n){return n.r=e.r/t.r,n.g=e.g/t.g,n.b=e.b/t.b,n.a=e.a/t.a,n},Color.mod=function(e,t,n){return n.r=e.r%t.r,n.g=e.g%t.g,n.b=e.b%t.b,n.a=e.a%t.a,n},Color.lerp=function(e,t,n,r){return r.r=CMath.lerp(e.r,t.r,n),r.g=CMath.lerp(e.g,t.g,n),r.b=CMath.lerp(e.b,t.b,n),r.a=CMath.lerp(e.a,t.a,n),r},Color.multiplyByScalar=function(e,t,n){return n.r=e.r*t,n.g=e.g*t,n.b=e.b*t,n.a=e.a*t,n},Color.divideByScalar=function(e,t,n){return n.r=e.r/t,n.g=e.g/t,n.b=e.b/t,n.a=e.a/t,n},Color.ALICEBLUE=Object.freeze(Color.fromCssColorString("#F0F8FF")),Color.ANTIQUEWHITE=Object.freeze(Color.fromCssColorString("#FAEBD7")),Color.AQUA=Object.freeze(Color.fromCssColorString("#00FFFF")),Color.AQUAMARINE=Object.freeze(Color.fromCssColorString("#7FFFD4")),Color.AZURE=Object.freeze(Color.fromCssColorString("#F0FFFF")),Color.BEIGE=Object.freeze(Color.fromCssColorString("#F5F5DC")),Color.BISQUE=Object.freeze(Color.fromCssColorString("#FFE4C4")),Color.BLACK=Object.freeze(Color.fromCssColorString("#000000")),Color.BLANCHEDALMOND=Object.freeze(Color.fromCssColorString("#FFEBCD")),Color.BLUE=Object.freeze(Color.fromCssColorString("#0000FF")),Color.BLUEVIOLET=Object.freeze(Color.fromCssColorString("#8A2BE2")),Color.BROWN=Object.freeze(Color.fromCssColorString("#A52A2A")),Color.BURLYWOOD=Object.freeze(Color.fromCssColorString("#DEB887")),Color.CADETBLUE=Object.freeze(Color.fromCssColorString("#5F9EA0")),Color.CHARTREUSE=Object.freeze(Color.fromCssColorString("#7FFF00")),Color.CHOCOLATE=Object.freeze(Color.fromCssColorString("#D2691E")),Color.CORAL=Object.freeze(Color.fromCssColorString("#FF7F50")),Color.CORNFLOWERBLUE=Object.freeze(Color.fromCssColorString("#6495ED")),Color.CORNSILK=Object.freeze(Color.fromCssColorString("#FFF8DC")),Color.CRIMSON=Object.freeze(Color.fromCssColorString("#DC143C")),Color.CYAN=Object.freeze(Color.fromCssColorString("#00FFFF")),Color.DARKBLUE=Object.freeze(Color.fromCssColorString("#00008B")),Color.DARKCYAN=Object.freeze(Color.fromCssColorString("#008B8B")),Color.DARKGOLDENROD=Object.freeze(Color.fromCssColorString("#B8860B")),Color.DARKGRAY=Object.freeze(Color.fromCssColorString("#A9A9A9")),Color.DARKGREEN=Object.freeze(Color.fromCssColorString("#006400")),Color.DARKGREY=Color.DARKGRAY,Color.DARKKHAKI=Object.freeze(Color.fromCssColorString("#BDB76B")),Color.DARKMAGENTA=Object.freeze(Color.fromCssColorString("#8B008B")),Color.DARKOLIVEGREEN=Object.freeze(Color.fromCssColorString("#556B2F")),Color.DARKORANGE=Object.freeze(Color.fromCssColorString("#FF8C00")),Color.DARKORCHID=Object.freeze(Color.fromCssColorString("#9932CC")),Color.DARKRED=Object.freeze(Color.fromCssColorString("#8B0000")),Color.DARKSALMON=Object.freeze(Color.fromCssColorString("#E9967A")),Color.DARKSEAGREEN=Object.freeze(Color.fromCssColorString("#8FBC8F")),Color.DARKSLATEBLUE=Object.freeze(Color.fromCssColorString("#483D8B")),Color.DARKSLATEGRAY=Object.freeze(Color.fromCssColorString("#2F4F4F")),Color.DARKSLATEGREY=Color.DARKSLATEGRAY,Color.DARKTURQUOISE=Object.freeze(Color.fromCssColorString("#00CED1")),Color.DARKVIOLET=Object.freeze(Color.fromCssColorString("#9400D3")),Color.DEEPPINK=Object.freeze(Color.fromCssColorString("#FF1493")),Color.DEEPSKYBLUE=Object.freeze(Color.fromCssColorString("#00BFFF")),Color.DIMGRAY=Object.freeze(Color.fromCssColorString("#696969")),Color.DIMGREY=Color.DIMGRAY,Color.DODGERBLUE=Object.freeze(Color.fromCssColorString("#1E90FF")),Color.FIREBRICK=Object.freeze(Color.fromCssColorString("#B22222")),Color.FLORALWHITE=Object.freeze(Color.fromCssColorString("#FFFAF0")),Color.FORESTGREEN=Object.freeze(Color.fromCssColorString("#228B22")),Color.FUCHSIA=Object.freeze(Color.fromCssColorString("#FF00FF")),Color.GAINSBORO=Object.freeze(Color.fromCssColorString("#DCDCDC")),Color.GHOSTWHITE=Object.freeze(Color.fromCssColorString("#F8F8FF")),Color.GOLD=Object.freeze(Color.fromCssColorString("#FFD700")),Color.GOLDENROD=Object.freeze(Color.fromCssColorString("#DAA520")),Color.GRAY=Object.freeze(Color.fromCssColorString("#808080")),Color.GREEN=Object.freeze(Color.fromCssColorString("#008000")),Color.GREENYELLOW=Object.freeze(Color.fromCssColorString("#ADFF2F")),Color.GREY=Color.GRAY,Color.HONEYDEW=Object.freeze(Color.fromCssColorString("#F0FFF0")),Color.HOTPINK=Object.freeze(Color.fromCssColorString("#FF69B4")),Color.INDIANRED=Object.freeze(Color.fromCssColorString("#CD5C5C")),Color.INDIGO=Object.freeze(Color.fromCssColorString("#4B0082")),Color.IVORY=Object.freeze(Color.fromCssColorString("#FFFFF0")),Color.KHAKI=Object.freeze(Color.fromCssColorString("#F0E68C")),Color.LAVENDER=Object.freeze(Color.fromCssColorString("#E6E6FA")),Color.LAVENDAR_BLUSH=Object.freeze(Color.fromCssColorString("#FFF0F5")),Color.LAWNGREEN=Object.freeze(Color.fromCssColorString("#7CFC00")),Color.LEMONCHIFFON=Object.freeze(Color.fromCssColorString("#FFFACD")),Color.LIGHTBLUE=Object.freeze(Color.fromCssColorString("#ADD8E6")),Color.LIGHTCORAL=Object.freeze(Color.fromCssColorString("#F08080")),Color.LIGHTCYAN=Object.freeze(Color.fromCssColorString("#E0FFFF")),Color.LIGHTGOLDENRODYELLOW=Object.freeze(Color.fromCssColorString("#FAFAD2")),Color.LIGHTGRAY=Object.freeze(Color.fromCssColorString("#D3D3D3")),Color.LIGHTGREEN=Object.freeze(Color.fromCssColorString("#90EE90")),Color.LIGHTGREY=Color.LIGHTGRAY,Color.LIGHTPINK=Object.freeze(Color.fromCssColorString("#FFB6C1")),Color.LIGHTSEAGREEN=Object.freeze(Color.fromCssColorString("#20B2AA")),Color.LIGHTSKYBLUE=Object.freeze(Color.fromCssColorString("#87CEFA")),Color.LIGHTSLATEGRAY=Object.freeze(Color.fromCssColorString("#778899")),Color.LIGHTSLATEGREY=Color.LIGHTSLATEGRAY,Color.LIGHTSTEELBLUE=Object.freeze(Color.fromCssColorString("#B0C4DE")),Color.LIGHTYELLOW=Object.freeze(Color.fromCssColorString("#FFFFE0")),Color.LIME=Object.freeze(Color.fromCssColorString("#00FF00")),Color.LIMEGREEN=Object.freeze(Color.fromCssColorString("#32CD32")),Color.LINEN=Object.freeze(Color.fromCssColorString("#FAF0E6")),Color.MAGENTA=Object.freeze(Color.fromCssColorString("#FF00FF")),Color.MAROON=Object.freeze(Color.fromCssColorString("#800000")),Color.MEDIUMAQUAMARINE=Object.freeze(Color.fromCssColorString("#66CDAA")),Color.MEDIUMBLUE=Object.freeze(Color.fromCssColorString("#0000CD")),Color.MEDIUMORCHID=Object.freeze(Color.fromCssColorString("#BA55D3")),Color.MEDIUMPURPLE=Object.freeze(Color.fromCssColorString("#9370DB")),Color.MEDIUMSEAGREEN=Object.freeze(Color.fromCssColorString("#3CB371")),Color.MEDIUMSLATEBLUE=Object.freeze(Color.fromCssColorString("#7B68EE")),Color.MEDIUMSPRINGGREEN=Object.freeze(Color.fromCssColorString("#00FA9A")),Color.MEDIUMTURQUOISE=Object.freeze(Color.fromCssColorString("#48D1CC")),Color.MEDIUMVIOLETRED=Object.freeze(Color.fromCssColorString("#C71585")),Color.MIDNIGHTBLUE=Object.freeze(Color.fromCssColorString("#191970")),Color.MINTCREAM=Object.freeze(Color.fromCssColorString("#F5FFFA")),Color.MISTYROSE=Object.freeze(Color.fromCssColorString("#FFE4E1")),Color.MOCCASIN=Object.freeze(Color.fromCssColorString("#FFE4B5")),Color.NAVAJOWHITE=Object.freeze(Color.fromCssColorString("#FFDEAD")),Color.NAVY=Object.freeze(Color.fromCssColorString("#000080")),Color.OLDLACE=Object.freeze(Color.fromCssColorString("#FDF5E6")),Color.OLIVE=Object.freeze(Color.fromCssColorString("#808000")),Color.OLIVEDRAB=Object.freeze(Color.fromCssColorString("#6B8E23")),Color.ORANGE=Object.freeze(Color.fromCssColorString("#FFA500")),Color.ORANGERED=Object.freeze(Color.fromCssColorString("#FF4500")),Color.ORCHID=Object.freeze(Color.fromCssColorString("#DA70D6")),Color.PALEGOLDENROD=Object.freeze(Color.fromCssColorString("#EEE8AA")),Color.PALEGREEN=Object.freeze(Color.fromCssColorString("#98FB98")),Color.PALETURQUOISE=Object.freeze(Color.fromCssColorString("#AFEEEE")),Color.PALEVIOLETRED=Object.freeze(Color.fromCssColorString("#DB7093")),Color.PAPAYAWHIP=Object.freeze(Color.fromCssColorString("#FFEFD5")),Color.PEACHPUFF=Object.freeze(Color.fromCssColorString("#FFDAB9")),Color.PERU=Object.freeze(Color.fromCssColorString("#CD853F")),Color.PINK=Object.freeze(Color.fromCssColorString("#FFC0CB")),Color.PLUM=Object.freeze(Color.fromCssColorString("#DDA0DD")),Color.POWDERBLUE=Object.freeze(Color.fromCssColorString("#B0E0E6")),Color.PURPLE=Object.freeze(Color.fromCssColorString("#800080")),Color.RED=Object.freeze(Color.fromCssColorString("#FF0000")),Color.ROSYBROWN=Object.freeze(Color.fromCssColorString("#BC8F8F")),Color.ROYALBLUE=Object.freeze(Color.fromCssColorString("#4169E1")),Color.SADDLEBROWN=Object.freeze(Color.fromCssColorString("#8B4513")),Color.SALMON=Object.freeze(Color.fromCssColorString("#FA8072")),Color.SANDYBROWN=Object.freeze(Color.fromCssColorString("#F4A460")),Color.SEAGREEN=Object.freeze(Color.fromCssColorString("#2E8B57")),Color.SEASHELL=Object.freeze(Color.fromCssColorString("#FFF5EE")),Color.SIENNA=Object.freeze(Color.fromCssColorString("#A0522D")),Color.SILVER=Object.freeze(Color.fromCssColorString("#C0C0C0")),Color.SKYBLUE=Object.freeze(Color.fromCssColorString("#87CEEB")),Color.SLATEBLUE=Object.freeze(Color.fromCssColorString("#6A5ACD")),Color.SLATEGRAY=Object.freeze(Color.fromCssColorString("#708090")),Color.SLATEGREY=Color.SLATEGRAY,Color.SNOW=Object.freeze(Color.fromCssColorString("#FFFAFA")),Color.SPRINGGREEN=Object.freeze(Color.fromCssColorString("#00FF7F")),Color.STEELBLUE=Object.freeze(Color.fromCssColorString("#4682B4")),Color.TAN=Object.freeze(Color.fromCssColorString("#D2B48C")),Color.TEAL=Object.freeze(Color.fromCssColorString("#008080")),Color.THISTLE=Object.freeze(Color.fromCssColorString("#D8BFD8")),Color.TOMATO=Object.freeze(Color.fromCssColorString("#FF6347")),Color.TURQUOISE=Object.freeze(Color.fromCssColorString("#40E0D0")),Color.VIOLET=Object.freeze(Color.fromCssColorString("#EE82EE")),Color.WHEAT=Object.freeze(Color.fromCssColorString("#F5DEB3")),Color.WHITE=Object.freeze(Color.fromCssColorString("#FFFFFF")),Color.WHITESMOKE=Object.freeze(Color.fromCssColorString("#F5F5F5")),Color.YELLOW=Object.freeze(Color.fromCssColorString("#FFFF00")),Color.YELLOWGREEN=Object.freeze(Color.fromCssColorString("#9ACD32")),Color.TRANSPARENT=Object.freeze(new Color(0,0,0,0));class Matrix2{constructor(e,t,n,r){this.elements=[0,0,0,0],this.length=()=>Matrix2.packedLength,this.clone=e=>Matrix2.clone(this,e),this.equals=e=>Matrix2.equals(this,e),this.toString=()=>"("+this.elements[0]+", "+this.elements[2]+")\n("+this.elements[1]+", "+this.elements[3]+")",this.elements[0]=defaultValue(e,0),this.elements[1]=defaultValue(t,0),this.elements[2]=defaultValue(n,0),this.elements[3]=defaultValue(r,0)}}Matrix2.packedLength=4,Matrix2.toArray=function(e,t,n){return n=defaultValue(n,0),t[n++]=e.elements[0],t[n++]=e.elements[1],t[n++]=e.elements[2],t[n]=e.elements[3],t},Matrix2.fromArray=function(e,t,n){return t=defaultValue(t,0),defined(n)||(n=new Matrix2),n.elements[0]=e[t++],n.elements[1]=e[t++],n.elements[2]=e[t++],n.elements[3]=e[t++],n},Matrix2.clone=function(e,t){if(defined(e))return defined(t)?(t.elements[0]=e.elements[0],t.elements[1]=e.elements[1],t.elements[2]=e.elements[2],t.elements[3]=e.elements[3],t):new Matrix2(e.elements[0],e.elements[2],e.elements[1],e.elements[3])},Matrix2.fromScale=function(e,t){return defined(t)?(t.elements[0]=e.x,t.elements[1]=0,t.elements[2]=0,t.elements[3]=e.y,t):new Matrix2(e.x,0,0,e.y)},Matrix2.fromUniformScale=function(e,t){return defined(t)?(t.elements[0]=e,t.elements[1]=0,t.elements[2]=0,t.elements[3]=e,t):new Matrix2(e,0,0,e)},Matrix2.fromRotation=function(e,t){var n=Math.cos(e),r=Math.sin(e);return defined(t)?(t.elements[0]=n,t.elements[1]=r,t.elements[2]=-r,t.elements[3]=n,t):new Matrix2(n,-r,r,n)},Matrix2.getScale=function(e,t){let n=new Vector2;return t.x=Vector2.magnitude(Vector2.fromElements(e.elements[0],e.elements[1],n)),t.y=Vector2.magnitude(Vector2.fromElements(e.elements[2],e.elements[3],n)),t},Matrix2.multiply=function(e,t,n){var r=e.elements[0]*t.elements[2]+e.elements[2]*t.elements[3],o=e.elements[1]*t.elements[0]+e.elements[3]*t.elements[1],s=e.elements[1]*t.elements[2]+e.elements[3]*t.elements[3];return n.elements[0]=e.elements[0]*t.elements[0]+e.elements[2]*t.elements[1],n.elements[1]=o,n.elements[2]=r,n.elements[3]=s,n},Matrix2.add=function(e,t,n){return n.elements[0]=e.elements[0]+t.elements[0],n.elements[1]=e.elements[1]+t.elements[1],n.elements[2]=e.elements[2]+t.elements[2],n.elements[3]=e.elements[3]+t.elements[3],n},Matrix2.subtract=function(e,t,n){return n.elements[0]=e.elements[0]-t.elements[0],n.elements[1]=e.elements[1]-t.elements[1],n.elements[2]=e.elements[2]-t.elements[2],n.elements[3]=e.elements[3]-t.elements[3],n},Matrix2.multiplyByVector=function(e,t,n){var r=e.elements[1]*t.x+e.elements[3]*t.y;return n.x=e.elements[0]*t.x+e.elements[2]*t.y,n.y=r,n},Matrix2.multiplyByScalar=function(e,t,n){return n.elements[0]=e.elements[0]*t,n.elements[1]=e.elements[1]*t,n.elements[2]=e.elements[2]*t,n.elements[3]=e.elements[3]*t,n},Matrix2.multiplyByScale=function(e,t,n){return n.elements[0]=e.elements[0]*t.x,n.elements[1]=e.elements[1]*t.x,n.elements[2]=e.elements[2]*t.y,n.elements[3]=e.elements[3]*t.y,n},Matrix2.negate=function(e,t){return t.elements[0]=-e.elements[0],t.elements[1]=-e.elements[1],t.elements[2]=-e.elements[2],t.elements[3]=-e.elements[3],t},Matrix2.transpose=function(e,t){var n=e.elements[2],r=e.elements[1],o=e.elements[3];return t.elements[0]=e.elements[0],t.elements[1]=n,t.elements[2]=r,t.elements[3]=o,t},Matrix2.abs=function(e,t){return t.elements[0]=Math.abs(e.elements[0]),t.elements[1]=Math.abs(e.elements[1]),t.elements[2]=Math.abs(e.elements[2]),t.elements[3]=Math.abs(e.elements[3]),t},Matrix2.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.elements[0]===t.elements[0]&&e.elements[1]===t.elements[1]&&e.elements[2]===t.elements[2]&&e.elements[3]===t.elements[3]},Matrix2.IDENTITY=Object.freeze(new Matrix2(1,0,0,1)),Matrix2.ZERO=Object.freeze(new Matrix2(0,0,0,0));class Matrix3{constructor(e,t,n,r,o,s,l,i,m){this.elements=[0,0,0,0,0,0,0,0,0],this.length=Matrix3.packedLength,this.clone=e=>Matrix3.clone(this,e),this.equals=e=>Matrix3.equals(this,e),this.toString=()=>"("+this.elements[0]+", "+this.elements[3]+", "+this.elements[6]+")\n("+this.elements[1]+", "+this.elements[4]+", "+this.elements[7]+")\n("+this.elements[2]+", "+this.elements[5]+", "+this.elements[8]+")",this.elements[0]=defaultValue(e,0),this.elements[1]=defaultValue(r,0),this.elements[2]=defaultValue(l,0),this.elements[3]=defaultValue(t,0),this.elements[4]=defaultValue(o,0),this.elements[5]=defaultValue(i,0),this.elements[6]=defaultValue(n,0),this.elements[7]=defaultValue(s,0),this.elements[8]=defaultValue(m,0)}}Matrix3.packedLength=9,Matrix3.toArray=function(e,t,n){return n=defaultValue(n,0),t[n++]=e.elements[0],t[n++]=e.elements[1],t[n++]=e.elements[2],t[n++]=e.elements[3],t[n++]=e.elements[4],t[n++]=e.elements[5],t[n++]=e.elements[6],t[n++]=e.elements[7],t[n]=e.elements[8],t},Matrix3.fromArray=function(e,t,n){return t=defaultValue(t,0),defined(n)||(n=new Matrix3),n.elements[0]=e[t++],n.elements[1]=e[t++],n.elements[2]=e[t++],n.elements[3]=e[t++],n.elements[4]=e[t++],n.elements[5]=e[t++],n.elements[6]=e[t++],n.elements[7]=e[t++],n.elements[8]=e[t++],n},Matrix3.clone=function(e,t){if(defined(e))return defined(t)?(t.elements[0]=e.elements[0],t.elements[1]=e.elements[1],t.elements[2]=e.elements[2],t.elements[3]=e.elements[3],t.elements[4]=e.elements[4],t.elements[5]=e.elements[5],t.elements[6]=e.elements[6],t.elements[7]=e.elements[7],t.elements[8]=e.elements[8],t):new Matrix3(e.elements[0],e.elements[3],e.elements[6],e.elements[1],e.elements[4],e.elements[7],e.elements[2],e.elements[5],e.elements[8])},Matrix3.fromQuaternion=function(e,t){var n=e.x*e.x,r=e.x*e.y,o=e.x*e.z,s=e.x*e.w,l=e.y*e.y,i=e.y*e.z,m=e.y*e.w,a=e.z*e.z,c=e.z*e.w,u=e.w*e.w,h=n-l-a+u,f=2*(r-c),C=2*(o+m),d=2*(r+c),x=-n+l-a+u,y=2*(i-s),M=2*(o-m),E=2*(i+s),g=-n-l+a+u;return defined(t)?(t.elements[0]=h,t.elements[1]=d,t.elements[2]=M,t.elements[3]=f,t.elements[4]=x,t.elements[5]=E,t.elements[6]=C,t.elements[7]=y,t.elements[8]=g,t):new Matrix3(h,f,C,d,x,y,M,E,g)},Matrix3.fromScale=function(e,t){return defined(t)?(t.elements[0]=e.x,t.elements[1]=0,t.elements[2]=0,t.elements[3]=0,t.elements[4]=e.y,t.elements[5]=0,t.elements[6]=0,t.elements[7]=0,t.elements[8]=e.z,t):new Matrix3(e.x,0,0,0,e.y,0,0,0,e.z)},Matrix3.fromUniformScale=function(e,t){return defined(t)?(t.elements[0]=e,t.elements[1]=0,t.elements[2]=0,t.elements[3]=0,t.elements[4]=e,t.elements[5]=0,t.elements[6]=0,t.elements[7]=0,t.elements[8]=e,t):new Matrix3(e,0,0,0,e,0,0,0,e)},Matrix3.fromCrossProduct=function(e,t){return defined(t)?(t.elements[0]=0,t.elements[1]=e.z,t.elements[2]=-e.y,t.elements[3]=-e.z,t.elements[4]=0,t.elements[5]=e.x,t.elements[6]=e.y,t.elements[7]=-e.x,t.elements[8]=0,t):new Matrix3(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},Matrix3.fromRotationX=function(e,t){var n=Math.cos(e),r=Math.sin(e);return defined(t)?(t.elements[0]=1,t.elements[1]=0,t.elements[2]=0,t.elements[3]=0,t.elements[4]=n,t.elements[5]=r,t.elements[6]=0,t.elements[7]=-r,t.elements[8]=n,t):new Matrix3(1,0,0,0,n,-r,0,r,n)},Matrix3.fromRotationY=function(e,t){var n=Math.cos(e),r=Math.sin(e);return defined(t)?(t.elements[0]=n,t.elements[1]=0,t.elements[2]=-r,t.elements[3]=0,t.elements[4]=1,t.elements[5]=0,t.elements[6]=r,t.elements[7]=0,t.elements[8]=n,t):new Matrix3(n,0,r,0,1,0,-r,0,n)},Matrix3.fromRotationZ=function(e,t){var n=Math.cos(e),r=Math.sin(e);return defined(t)?(t.elements[0]=n,t.elements[1]=r,t.elements[2]=0,t.elements[3]=-r,t.elements[4]=n,t.elements[5]=0,t.elements[6]=0,t.elements[7]=0,t.elements[8]=1,t):new Matrix3(n,-r,0,r,n,0,0,0,1)},Matrix3.fromRotationAroundAxis=function(e,t,n){return defined(n)||(n=new Matrix3),n.elements[0]=e.x*e.x*(1-Math.cos(t))+Math.cos(t),n.elements[1]=e.x*e.y*(1-Math.cos(t))+e.z*Math.sin(t),n.elements[2]=e.x*e.z*(1-Math.cos(t))-e.y*Math.sin(t),n.elements[3]=e.x*e.y*(1-Math.cos(t))-e.z*Math.sin(t),n.elements[4]=e.y*e.y*(1-Math.cos(t))+Math.cos(t),n.elements[5]=e.y*e.z*(1-Math.cos(t))+e.x*Math.sin(t),n.elements[6]=e.x*e.z*(1-Math.cos(t))+e.y*Math.sin(t),n.elements[7]=e.y*e.z*(1-Math.cos(t))-e.x*Math.sin(t),n.elements[8]=e.z*e.z*(1-Math.cos(t))+Math.cos(t),n},Matrix3.getElementIndex=function(e,t){if(e<0||e>2)throw new DeveloperError("column must be 0, 1, or 2.");if(t<0||t>2)throw new DeveloperError("row must be 0, 1, or 2.");return 3*e+t},Matrix3.getColumn=function(e,t,n){if(t<0||t>2)throw new DeveloperError("index must be 0, 1, or 2.");var r=3*t,o=e.elements[r+1],s=e.elements[r+2];return n.x=e.elements[r],n.y=o,n.z=s,n},Matrix3.setColumn=function(e,t,n,r){if(t<0||t>2)throw new DeveloperError("index must be 0, 1, or 2.");var o=3*t;return(r=Matrix3.clone(e,r)).elements[o]=n.x,r.elements[o+1]=n.y,r.elements[o+2]=n.z,r},Matrix3.getRow=function(e,t,n){if(t<0||t>2)throw new DeveloperError("index must be 0, 1, or 2.");var r=e.elements[t+3],o=e.elements[t+6];return n.x=e.elements[t],n.y=r,n.z=o,n},Matrix3.setRow=function(e,t,n,r){if(t<0||t>2)throw new DeveloperError("index must be 0, 1, or 2.");return(r=Matrix3.clone(e,r)).elements[t]=n.x,r.elements[t+3]=n.y,r.elements[t+6]=n.z,r},Matrix3.getScale=function(e,t){let n=new Vector3;return t.x=Vector3.magnitude(Vector3.fromElements(e.elements[0],e.elements[1],e.elements[2],n)),t.y=Vector3.magnitude(Vector3.fromElements(e.elements[3],e.elements[4],e.elements[5],n)),t.z=Vector3.magnitude(Vector3.fromElements(e.elements[6],e.elements[7],e.elements[8],n)),t},Matrix3.multiply=function(e,t,n){var r=e.elements[1]*t.elements[0]+e.elements[4]*t.elements[1]+e.elements[7]*t.elements[2],o=e.elements[2]*t.elements[0]+e.elements[5]*t.elements[1]+e.elements[8]*t.elements[2],s=e.elements[0]*t.elements[3]+e.elements[3]*t.elements[4]+e.elements[6]*t.elements[5],l=e.elements[1]*t.elements[3]+e.elements[4]*t.elements[4]+e.elements[7]*t.elements[5],i=e.elements[2]*t.elements[3]+e.elements[5]*t.elements[4]+e.elements[8]*t.elements[5],m=e.elements[0]*t.elements[6]+e.elements[3]*t.elements[7]+e.elements[6]*t.elements[8],a=e.elements[1]*t.elements[6]+e.elements[4]*t.elements[7]+e.elements[7]*t.elements[8],c=e.elements[2]*t.elements[6]+e.elements[5]*t.elements[7]+e.elements[8]*t.elements[8];return n.elements[0]=e.elements[0]*t.elements[0]+e.elements[3]*t.elements[1]+e.elements[6]*t.elements[2],n.elements[1]=r,n.elements[2]=o,n.elements[3]=s,n.elements[4]=l,n.elements[5]=i,n.elements[6]=m,n.elements[7]=a,n.elements[8]=c,n},Matrix3.add=function(e,t,n){return n.elements[0]=e.elements[0]+t.elements[0],n.elements[1]=e.elements[1]+t.elements[1],n.elements[2]=e.elements[2]+t.elements[2],n.elements[3]=e.elements[3]+t.elements[3],n.elements[4]=e.elements[4]+t.elements[4],n.elements[5]=e.elements[5]+t.elements[5],n.elements[6]=e.elements[6]+t.elements[6],n.elements[7]=e.elements[7]+t.elements[7],n.elements[8]=e.elements[8]+t.elements[8],n},Matrix3.subtract=function(e,t,n){return n.elements[0]=e.elements[0]-t.elements[0],n.elements[1]=e.elements[1]-t.elements[1],n.elements[2]=e.elements[2]-t.elements[2],n.elements[3]=e.elements[3]-t.elements[3],n.elements[4]=e.elements[4]-t.elements[4],n.elements[5]=e.elements[5]-t.elements[5],n.elements[6]=e.elements[6]-t.elements[6],n.elements[7]=e.elements[7]-t.elements[7],n.elements[8]=e.elements[8]-t.elements[8],n},Matrix3.multiplyByVector=function(e,t,n){var r=t.x,o=t.y,s=t.z,l=e.elements[1]*r+e.elements[4]*o+e.elements[7]*s,i=e.elements[2]*r+e.elements[5]*o+e.elements[8]*s;return n.x=e.elements[0]*r+e.elements[3]*o+e.elements[6]*s,n.y=l,n.z=i,n},Matrix3.multiplyByScalar=function(e,t,n){return n.elements[0]=e.elements[0]*t,n.elements[1]=e.elements[1]*t,n.elements[2]=e.elements[2]*t,n.elements[3]=e.elements[3]*t,n.elements[4]=e.elements[4]*t,n.elements[5]=e.elements[5]*t,n.elements[6]=e.elements[6]*t,n.elements[7]=e.elements[7]*t,n.elements[8]=e.elements[8]*t,n},Matrix3.multiplyByScale=function(e,t,n){return n.elements[0]=e.elements[0]*t.x,n.elements[1]=e.elements[1]*t.x,n.elements[2]=e.elements[2]*t.x,n.elements[3]=e.elements[3]*t.y,n.elements[4]=e.elements[4]*t.y,n.elements[5]=e.elements[5]*t.y,n.elements[6]=e.elements[6]*t.z,n.elements[7]=e.elements[7]*t.z,n.elements[8]=e.elements[8]*t.z,n},Matrix3.negate=function(e,t){return t.elements[0]=-e.elements[0],t.elements[1]=-e.elements[1],t.elements[2]=-e.elements[2],t.elements[3]=-e.elements[3],t.elements[4]=-e.elements[4],t.elements[5]=-e.elements[5],t.elements[6]=-e.elements[6],t.elements[7]=-e.elements[7],t.elements[8]=-e.elements[8],t},Matrix3.transpose=function(e,t){var n=e.elements[3],r=e.elements[6],o=e.elements[1],s=e.elements[4],l=e.elements[7],i=e.elements[2],m=e.elements[5],a=e.elements[8];return t.elements[0]=e.elements[0],t.elements[1]=n,t.elements[2]=r,t.elements[3]=o,t.elements[4]=s,t.elements[5]=l,t.elements[6]=i,t.elements[7]=m,t.elements[8]=a,t},Matrix3.getRotation=function(e,t){let n=new Vector3,r=Vector3.divideComponents(new Vector3(1,1,1),Matrix3.getScale(e,n),n);return Matrix3.multiplyByScale(e,r,t)},Matrix3.abs=function(e,t){return t.elements[0]=Math.abs(e.elements[0]),t.elements[1]=Math.abs(e.elements[1]),t.elements[2]=Math.abs(e.elements[2]),t.elements[3]=Math.abs(e.elements[3]),t.elements[4]=Math.abs(e.elements[4]),t.elements[5]=Math.abs(e.elements[5]),t.elements[6]=Math.abs(e.elements[6]),t.elements[7]=Math.abs(e.elements[7]),t.elements[8]=Math.abs(e.elements[8]),t},Matrix3.determinant=function(e){var t=e.elements[3],n=e.elements[6],r=e.elements[4],o=e.elements[7],s=e.elements[5],l=e.elements[8];return e.elements[0]*(r*l-s*o)+e.elements[1]*(s*n-t*l)+e.elements[2]*(t*o-r*n)},Matrix3.inverse=function(e,t){var n=e.elements[0],r=e.elements[1],o=e.elements[2],s=e.elements[3],l=e.elements[4],i=e.elements[5],m=e.elements[6],a=e.elements[7],c=e.elements[8],u=Matrix3.determinant(e);return t.elements[0]=l*c-a*i,t.elements[1]=a*o-r*c,t.elements[2]=r*i-l*o,t.elements[3]=m*i-s*c,t.elements[4]=n*c-m*o,t.elements[5]=s*o-n*i,t.elements[6]=s*a-m*l,t.elements[7]=m*r-n*a,t.elements[8]=n*l-s*r,Matrix3.multiplyByScalar(t,1/u,t)},Matrix3.inverseTranspose=function(e,t){var n=new Matrix3;return Matrix3.inverse(Matrix3.transpose(e,n),t)},Matrix3.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.elements[0]===t.elements[0]&&e.elements[1]===t.elements[1]&&e.elements[2]===t.elements[2]&&e.elements[3]===t.elements[3]&&e.elements[4]===t.elements[4]&&e.elements[5]===t.elements[5]&&e.elements[6]===t.elements[6]&&e.elements[7]===t.elements[7]&&e.elements[8]===t.elements[8]},Matrix3.IDENTITY=Object.freeze(new Matrix3(1,0,0,0,1,0,0,0,1)),Matrix3.ZERO=Object.freeze(new Matrix3(0,0,0,0,0,0,0,0,0));class Quaternion{constructor(e,t,n,r){this.x=0,this.y=0,this.z=0,this.w=0,this.clone=e=>(e=defaultValue(e,new Quaternion),Quaternion.clone(this,e)),this.equals=e=>Quaternion.equals(this,e),this.toString=()=>"("+this.x+", "+this.y+", "+this.z+", "+this.w+")",this.x=defaultValue(e,0),this.y=defaultValue(t,0),this.z=defaultValue(n,0),this.w=defaultValue(r,0)}}_a=Quaternion,Quaternion.packedLength=4,Quaternion.toArray=function(e,t,n){return n=defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},Quaternion.fromArray=function(e,t,n){return t=defaultValue(t,0),defined(n)||(n=new Quaternion),n.x=e[t],n.y=e[t+1],n.z=e[t+2],n.w=e[t+3],n},Quaternion.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},Quaternion.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Quaternion.magnitude=function(e){return Math.sqrt(Quaternion.magnitudeSquared(e))},Quaternion.normalize=function(e,t){var n=1/Quaternion.magnitude(e),r=e.y*n,o=e.z*n,s=e.w*n;return t.x=e.x*n,t.y=r,t.z=o,t.w=s,t},Quaternion.inverse=function(e,t){var n=Quaternion.magnitudeSquared(e);return t=Quaternion.conjugate(e,t),Quaternion.multiplyByScalar(t,1/n,t)},Quaternion.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},Quaternion.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},Quaternion.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Quaternion.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Quaternion.multiply=function(e,t,n){var r=e.x,o=e.y,s=e.z,l=e.w,i=t.x,m=t.y,a=t.z,c=t.w,u=l*m-r*a+o*c+s*i,h=l*a+r*m-o*i+s*c,f=l*c-r*i-o*m-s*a;return n.x=l*i+r*c+o*a-s*m,n.y=u,n.z=h,n.w=f,n},Quaternion.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},Quaternion.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},Quaternion.lerp=function(e,t,n,r){var o=new Quaternion;return o=Quaternion.multiplyByScalar(t,n,o),r=Quaternion.multiplyByScalar(e,1-n,r),Quaternion.add(o,r,r)},Quaternion.slerp=function(e,t,n,r){var o=new Quaternion,s=new Quaternion,l=new Quaternion,i=Quaternion.dot(e,t),m=t;if(i<0&&(i=-i,m=o=Quaternion.negate(t,o)),1-i<1e-6)return Quaternion.lerp(e,m,n,r);var a=Math.acos(i);return s=Quaternion.multiplyByScalar(e,Math.sin((1-n)*a),s),l=Quaternion.multiplyByScalar(m,Math.sin(n*a),l),r=Quaternion.add(s,l,r),Quaternion.multiplyByScalar(r,1/Math.sin(a),r)},Quaternion.log=function(e,t){var n=CMath.acosClamped(e.w),r=0;0!==n&&(r=n/Math.sin(n));var o=new Vector3;return Vector3.fromQuaternion(e,o),Vector3.multiplyByScalar(o,r,t)},Quaternion.exp=function(e,t){var n=Vector3.magnitude(e),r=0;return 0!==n&&(r=Math.sin(n)/n),t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t.w=Math.cos(n),t},Quaternion.computeInnerQuadrangle=function(e,t,n,r){var o=new Vector3,s=new Vector3,l=new Quaternion,i=new Quaternion,m=Quaternion.conjugate(t,l);Quaternion.multiply(m,n,i);var a=Quaternion.log(i,o);Quaternion.multiply(m,e,i);var c=Quaternion.log(i,s);return Vector3.add(a,c,a),Vector3.multiplyByScalar(a,.25,a),Vector3.negate(a,a),Quaternion.exp(a,l),Quaternion.multiply(t,l,r)},Quaternion.squad=function(e,t,n,r,o,s){var l=new Quaternion,i=new Quaternion,m=Quaternion.slerp(e,t,o,l),a=Quaternion.slerp(n,r,o,i);return Quaternion.slerp(m,a,2*o*(1-o),s)},Quaternion.clone=function(e,t){if(defined(e))return defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Quaternion(e.x,e.y,e.z,e.w)},Quaternion.fromQuaternion=_a.clone,Quaternion.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Quaternion.fromAxisAngle=function(e,t,n){var r=new Vector3,o=t/2,s=Math.sin(o),l=(r=Vector3.normalize(e,r)).x*s,i=r.y*s,m=r.z*s,a=Math.cos(o);return defined(n)?(n.x=l,n.y=i,n.z=m,n.w=a,n):new Quaternion(l,i,m,a)},Quaternion.fromRotationMatrix=function(e,t){var n,r,o,s,l,i=new Array(3),m=e.elements[0],a=e.elements[4],c=e.elements[8],u=m+a+c;if(u>0)l=.5*(n=Math.sqrt(u+1)),r=(e.elements[5]-e.elements[7])*(n=.5/n),o=(e.elements[6]-e.elements[2])*n,s=(e.elements[1]-e.elements[3])*n;else{var h=[1,2,0],f=0;a>m&&(f=1),c>m&&c>a&&(f=2);var C=h[f],d=h[C];n=Math.sqrt(e.elements[Matrix3.getElementIndex(f,f)]-e.elements[Matrix3.getElementIndex(C,C)]-e.elements[Matrix3.getElementIndex(d,d)]+1);var x=i;x[f]=.5*n,n=.5/n,l=(e.elements[Matrix3.getElementIndex(d,C)]-e.elements[Matrix3.getElementIndex(C,d)])*n,x[C]=(e.elements[Matrix3.getElementIndex(C,f)]+e.elements[Matrix3.getElementIndex(f,C)])*n,x[d]=(e.elements[Matrix3.getElementIndex(d,f)]+e.elements[Matrix3.getElementIndex(f,d)])*n,r=-x[0],o=-x[1],s=-x[2]}return defined(t)?(t.x=r,t.y=o,t.z=s,t.w=l,t):new Quaternion(r,o,s,l)},Quaternion.ZERO=Object.freeze(new Quaternion(0,0,0,0)),Quaternion.IDENTITY=Object.freeze(new Quaternion(0,0,0,1));class Matrix4{constructor(e,t,n,r,o,s,l,i,m,a,c,u,h,f,C,d){this.elements=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.makeRotationFromEuler=e=>Matrix4.makeRotationFromEuler(e,this),this.makeRotationFromQuaternion=e=>Matrix4.makeRotationFromQuaternion(e,this),this.compose=(e,t,n)=>Matrix4.compose(e,t,n,this),this.determinant=()=>{const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],s=e[1],l=e[5],i=e[9],m=e[13],a=e[2],c=e[6],u=e[10],h=e[14];return e[3]*(+o*i*c-r*m*c-o*l*u+n*m*u+r*l*h-n*i*h)+e[7]*(+t*i*h-t*m*u+o*s*u-r*s*h+r*m*a-o*i*a)+e[11]*(+t*m*c-t*l*h-o*s*c+n*s*h+o*l*a-n*m*a)+e[15]*(-r*l*a-t*i*c+t*l*u+r*s*c-n*s*u+n*i*a)},this.length=Matrix3.packedLength,this.clone=e=>Matrix4.clone(this,e),this.equals=e=>Matrix4.equals(this,e),this.toString=()=>"("+this.elements[0]+", "+this.elements[4]+", "+this.elements[8]+", "+this.elements[12]+")\n("+this.elements[1]+", "+this.elements[5]+", "+this.elements[9]+", "+this.elements[13]+")\n("+this.elements[2]+", "+this.elements[6]+", "+this.elements[10]+", "+this.elements[14]+")\n("+this.elements[3]+", "+this.elements[7]+", "+this.elements[11]+", "+this.elements[15]+")",this.elements[0]=defaultValue(e,0),this.elements[1]=defaultValue(o,0),this.elements[2]=defaultValue(m,0),this.elements[3]=defaultValue(h,0),this.elements[4]=defaultValue(t,0),this.elements[5]=defaultValue(s,0),this.elements[6]=defaultValue(a,0),this.elements[7]=defaultValue(f,0),this.elements[8]=defaultValue(n,0),this.elements[9]=defaultValue(l,0),this.elements[10]=defaultValue(c,0),this.elements[11]=defaultValue(C,0),this.elements[12]=defaultValue(r,0),this.elements[13]=defaultValue(i,0),this.elements[14]=defaultValue(u,0),this.elements[15]=defaultValue(d,0)}}Matrix4.packedLength=16,Matrix4.toArray=function(e,t,n){return n=defaultValue(n,0),t[n++]=e.elements[0],t[n++]=e.elements[1],t[n++]=e.elements[2],t[n++]=e.elements[3],t[n++]=e.elements[4],t[n++]=e.elements[5],t[n++]=e.elements[6],t[n++]=e.elements[7],t[n++]=e.elements[8],t[n++]=e.elements[9],t[n++]=e.elements[10],t[n++]=e.elements[11],t[n++]=e.elements[12],t[n++]=e.elements[13],t[n++]=e.elements[14],t[n]=e.elements[15],t},Matrix4.fromArray=function(e,t,n){return t=defaultValue(t,0),defined(n)||(n=new Matrix4),n.elements[0]=e[t++],n.elements[1]=e[t++],n.elements[2]=e[t++],n.elements[3]=e[t++],n.elements[4]=e[t++],n.elements[5]=e[t++],n.elements[6]=e[t++],n.elements[7]=e[t++],n.elements[8]=e[t++],n.elements[9]=e[t++],n.elements[10]=e[t++],n.elements[11]=e[t++],n.elements[12]=e[t++],n.elements[13]=e[t++],n.elements[14]=e[t++],n.elements[15]=e[t],n},Matrix4.clone=function(e,t){if(defined(e))return defined(t)?(t.elements[0]=e.elements[0],t.elements[1]=e.elements[1],t.elements[2]=e.elements[2],t.elements[3]=e.elements[3],t.elements[4]=e.elements[4],t.elements[5]=e.elements[5],t.elements[6]=e.elements[6],t.elements[7]=e.elements[7],t.elements[8]=e.elements[8],t.elements[9]=e.elements[9],t.elements[10]=e.elements[10],t.elements[11]=e.elements[11],t.elements[12]=e.elements[12],t.elements[13]=e.elements[13],t.elements[14]=e.elements[14],t.elements[15]=e.elements[15],t):new Matrix4(e.elements[0],e.elements[4],e.elements[8],e.elements[12],e.elements[1],e.elements[5],e.elements[9],e.elements[13],e.elements[2],e.elements[6],e.elements[10],e.elements[14],e.elements[3],e.elements[7],e.elements[11],e.elements[15])},Matrix4.fromRotationTranslation=function(e,t,n){return t=defaultValue(t,Vector3.ZERO),defined(n)?(n.elements[0]=e.elements[0],n.elements[1]=e.elements[1],n.elements[2]=e.elements[2],n.elements[3]=0,n.elements[4]=e.elements[3],n.elements[5]=e.elements[4],n.elements[6]=e.elements[5],n.elements[7]=0,n.elements[8]=e.elements[6],n.elements[9]=e.elements[7],n.elements[10]=e.elements[8],n.elements[11]=0,n.elements[12]=t.x,n.elements[13]=t.y,n.elements[14]=t.z,n.elements[15]=1,n):new Matrix4(e.elements[0],e.elements[3],e.elements[6],t.x,e.elements[1],e.elements[4],e.elements[7],t.y,e.elements[2],e.elements[5],e.elements[8],t.z,0,0,0,1)},Matrix4.fromTranslationQuaternionRotationScale=function(e,t,n,r){defined(r)||(r=new Matrix4);var o=n.x,s=n.y,l=n.z,i=t.x*t.x,m=t.x*t.y,a=t.x*t.z,c=t.x*t.w,u=t.y*t.y,h=t.y*t.z,f=t.y*t.w,C=t.z*t.z,d=t.z*t.w,x=t.w*t.w,y=2*(m-d),M=2*(a+f),E=2*(m+d),g=-i+u-C+x,V=2*(h-c),w=2*(a-f),z=2*(h+c),S=-i-u+C+x;return r.elements[0]=(i-u-C+x)*o,r.elements[1]=E*o,r.elements[2]=w*o,r.elements[3]=0,r.elements[4]=y*s,r.elements[5]=g*s,r.elements[6]=z*s,r.elements[7]=0,r.elements[8]=M*l,r.elements[9]=V*l,r.elements[10]=S*l,r.elements[11]=0,r.elements[12]=e.x,r.elements[13]=e.y,r.elements[14]=e.z,r.elements[15]=1,r},Matrix4.fromTranslationRotationScale=function(e,t){return Matrix4.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},Matrix4.fromTranslation=function(e,t){return Matrix4.fromRotationTranslation(Matrix3.IDENTITY,e,t)},Matrix4.fromScale=function(e,t){return defined(t)?(t.elements[0]=e.x,t.elements[1]=0,t.elements[2]=0,t.elements[3]=0,t.elements[4]=0,t.elements[5]=e.y,t.elements[6]=0,t.elements[7]=0,t.elements[8]=0,t.elements[9]=0,t.elements[10]=e.z,t.elements[11]=0,t.elements[12]=0,t.elements[13]=0,t.elements[14]=0,t.elements[15]=1,t):new Matrix4(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},Matrix4.fromUniformScale=function(e,t){return defined(t)?(t.elements[0]=e,t.elements[1]=0,t.elements[2]=0,t.elements[3]=0,t.elements[4]=0,t.elements[5]=e,t.elements[6]=0,t.elements[7]=0,t.elements[8]=0,t.elements[9]=0,t.elements[10]=e,t.elements[11]=0,t.elements[12]=0,t.elements[13]=0,t.elements[14]=0,t.elements[15]=1,t):new Matrix4(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)},Matrix4.getElementIndex=function(e,t){if(e<0||e>3)throw new DeveloperError("column must be 0, 1, 2 or 3.");if(t<0||t>3)throw new DeveloperError("row must be 0, 1, 2 or 3.");return 4*e+t},Matrix4.getColumn=function(e,t,n){if(t<0||t>3)throw new DeveloperError("index must be 0, 1, 2 or 3.");var r=4*t,o=e.elements[r+1],s=e.elements[r+2],l=e.elements[r+3];return n.x=e.elements[r],n.y=o,n.z=s,n.w=l,n},Matrix4.setColumn=function(e,t,n,r){if(t<0||t>3)throw new DeveloperError("index must be 0, 1, 2 or 3.");var o=4*t;return(r=Matrix4.clone(e,r)).elements[o]=n.x,r.elements[o+1]=n.y,r.elements[o+2]=n.z,r.elements[o+3]=n.w,r},Matrix4.setTranslation=function(e,t,n){return n.elements[0]=e.elements[0],n.elements[1]=e.elements[1],n.elements[2]=e.elements[2],n.elements[3]=e.elements[3],n.elements[4]=e.elements[4],n.elements[5]=e.elements[5],n.elements[6]=e.elements[6],n.elements[7]=e.elements[7],n.elements[8]=e.elements[8],n.elements[9]=e.elements[9],n.elements[10]=e.elements[10],n.elements[11]=e.elements[11],n.elements[12]=t.x,n.elements[13]=t.y,n.elements[14]=t.z,n.elements[15]=e.elements[15],n},Matrix4.setScale=function(e,t,n){var r=new Vector3,o=Matrix4.getScale(e,r),s=Vector3.divideComponents(t,o,r);return Matrix4.multiplyByScale(e,s,n)},Matrix4.getRow=function(e,t,n){if(t<0||t>3)throw new DeveloperError("index must be 0, 1, 2 or 3.");var r=e.elements[t+4],o=e.elements[t+8],s=e.elements[t+12];return n.x=e.elements[t],n.y=r,n.z=o,n.w=s,n},Matrix4.setRow=function(e,t,n,r){if(t<0||t>3)throw new DeveloperError("index must be 0, 1, 2 or 3.");return(r=Matrix4.clone(e,r)).elements[t]=n.x,r.elements[t+4]=n.y,r.elements[t+8]=n.z,r.elements[t+12]=n.w,r},Matrix4.getScale=function(e,t){var n=new Vector3;return t.x=Vector3.magnitude(Vector3.fromElements(e.elements[0],e.elements[1],e.elements[2],n)),t.y=Vector3.magnitude(Vector3.fromElements(e.elements[4],e.elements[5],e.elements[6],n)),t.z=Vector3.magnitude(Vector3.fromElements(e.elements[8],e.elements[9],e.elements[10],n)),t},Matrix4.multiply=function(e,t,n){var r=e.elements[0],o=e.elements[1],s=e.elements[2],l=e.elements[3],i=e.elements[4],m=e.elements[5],a=e.elements[6],c=e.elements[7],u=e.elements[8],h=e.elements[9],f=e.elements[10],C=e.elements[11],d=e.elements[12],x=e.elements[13],y=e.elements[14],M=e.elements[15],E=t.elements[0],g=t.elements[1],V=t.elements[2],w=t.elements[3],z=t.elements[4],S=t.elements[5],b=t.elements[6],O=t.elements[7],A=t.elements[8],p=t.elements[9],R=t.elements[10],D=t.elements[11],B=t.elements[12],I=t.elements[13],L=t.elements[14],T=t.elements[15],F=o*E+m*g+h*V+x*w,j=s*E+a*g+f*V+y*w,N=l*E+c*g+C*V+M*w,v=r*z+i*S+u*b+d*O,U=o*z+m*S+h*b+x*O,G=s*z+a*S+f*b+y*O,H=l*z+c*S+C*b+M*O,Y=r*A+i*p+u*R+d*D,P=o*A+m*p+h*R+x*D,Q=s*A+a*p+f*R+y*D,K=l*A+c*p+C*R+M*D,q=r*B+i*I+u*L+d*T,k=o*B+m*I+h*L+x*T,W=s*B+a*I+f*L+y*T,_=l*B+c*I+C*L+M*T;return n.elements[0]=r*E+i*g+u*V+d*w,n.elements[1]=F,n.elements[2]=j,n.elements[3]=N,n.elements[4]=v,n.elements[5]=U,n.elements[6]=G,n.elements[7]=H,n.elements[8]=Y,n.elements[9]=P,n.elements[10]=Q,n.elements[11]=K,n.elements[12]=q,n.elements[13]=k,n.elements[14]=W,n.elements[15]=_,n},Matrix4.add=function(e,t,n){return n.elements[0]=e.elements[0]+t.elements[0],n.elements[1]=e.elements[1]+t.elements[1],n.elements[2]=e.elements[2]+t.elements[2],n.elements[3]=e.elements[3]+t.elements[3],n.elements[4]=e.elements[4]+t.elements[4],n.elements[5]=e.elements[5]+t.elements[5],n.elements[6]=e.elements[6]+t.elements[6],n.elements[7]=e.elements[7]+t.elements[7],n.elements[8]=e.elements[8]+t.elements[8],n.elements[9]=e.elements[9]+t.elements[9],n.elements[10]=e.elements[10]+t.elements[10],n.elements[11]=e.elements[11]+t.elements[11],n.elements[12]=e.elements[12]+t.elements[12],n.elements[13]=e.elements[13]+t.elements[13],n.elements[14]=e.elements[14]+t.elements[14],n.elements[15]=e.elements[15]+t.elements[15],n},Matrix4.subtract=function(e,t,n){return n.elements[0]=e.elements[0]-t.elements[0],n.elements[1]=e.elements[1]-t.elements[1],n.elements[2]=e.elements[2]-t.elements[2],n.elements[3]=e.elements[3]-t.elements[3],n.elements[4]=e.elements[4]-t.elements[4],n.elements[5]=e.elements[5]-t.elements[5],n.elements[6]=e.elements[6]-t.elements[6],n.elements[7]=e.elements[7]-t.elements[7],n.elements[8]=e.elements[8]-t.elements[8],n.elements[9]=e.elements[9]-t.elements[9],n.elements[10]=e.elements[10]-t.elements[10],n.elements[11]=e.elements[11]-t.elements[11],n.elements[12]=e.elements[12]-t.elements[12],n.elements[13]=e.elements[13]-t.elements[13],n.elements[14]=e.elements[14]-t.elements[14],n.elements[15]=e.elements[15]-t.elements[15],n},Matrix4.multiplyTransformation=function(e,t,n){var r=e.elements[0],o=e.elements[1],s=e.elements[2],l=e.elements[4],i=e.elements[5],m=e.elements[6],a=e.elements[8],c=e.elements[9],u=e.elements[10],h=t.elements[0],f=t.elements[1],C=t.elements[2],d=t.elements[4],x=t.elements[5],y=t.elements[6],M=t.elements[8],E=t.elements[9],g=t.elements[10],V=t.elements[12],w=t.elements[13],z=t.elements[14],S=o*h+i*f+c*C,b=s*h+m*f+u*C,O=r*d+l*x+a*y,A=o*d+i*x+c*y,p=s*d+m*x+u*y,R=r*M+l*E+a*g,D=o*M+i*E+c*g,B=s*M+m*E+u*g,I=r*V+l*w+a*z+e.elements[12],L=o*V+i*w+c*z+e.elements[13],T=s*V+m*w+u*z+e.elements[14];return n.elements[0]=r*h+l*f+a*C,n.elements[1]=S,n.elements[2]=b,n.elements[3]=0,n.elements[4]=O,n.elements[5]=A,n.elements[6]=p,n.elements[7]=0,n.elements[8]=R,n.elements[9]=D,n.elements[10]=B,n.elements[11]=0,n.elements[12]=I,n.elements[13]=L,n.elements[14]=T,n.elements[15]=1,n},Matrix4.multiplyByMatrix3=function(e,t,n){var r=e.elements[0],o=e.elements[1],s=e.elements[2],l=e.elements[4],i=e.elements[5],m=e.elements[6],a=e.elements[8],c=e.elements[9],u=e.elements[10],h=t.elements[0],f=t.elements[1],C=t.elements[2],d=t.elements[3],x=t.elements[4],y=t.elements[5],M=t.elements[6],E=t.elements[7],g=t.elements[8],V=o*h+i*f+c*C,w=s*h+m*f+u*C,z=r*d+l*x+a*y,S=o*d+i*x+c*y,b=s*d+m*x+u*y,O=r*M+l*E+a*g,A=o*M+i*E+c*g,p=s*M+m*E+u*g;return n.elements[0]=r*h+l*f+a*C,n.elements[1]=V,n.elements[2]=w,n.elements[3]=0,n.elements[4]=z,n.elements[5]=S,n.elements[6]=b,n.elements[7]=0,n.elements[8]=O,n.elements[9]=A,n.elements[10]=p,n.elements[11]=0,n.elements[12]=e.elements[12],n.elements[13]=e.elements[13],n.elements[14]=e.elements[14],n.elements[15]=e.elements[15],n},Matrix4.multiplyByTranslation=function(e,t,n){var r=t.x,o=t.y,s=t.z,l=r*e.elements[0]+o*e.elements[4]+s*e.elements[8]+e.elements[12],i=r*e.elements[1]+o*e.elements[5]+s*e.elements[9]+e.elements[13],m=r*e.elements[2]+o*e.elements[6]+s*e.elements[10]+e.elements[14];return n.elements[0]=e.elements[0],n.elements[1]=e.elements[1],n.elements[2]=e.elements[2],n.elements[3]=e.elements[3],n.elements[4]=e.elements[4],n.elements[5]=e.elements[5],n.elements[6]=e.elements[6],n.elements[7]=e.elements[7],n.elements[8]=e.elements[8],n.elements[9]=e.elements[9],n.elements[10]=e.elements[10],n.elements[11]=e.elements[11],n.elements[12]=l,n.elements[13]=i,n.elements[14]=m,n.elements[15]=e.elements[15],n},Matrix4.multiplyByUniformScale=function(e,t,n){var r=new Vector3;return r.x=t,r.y=t,r.z=t,Matrix4.multiplyByScale(e,r,n)},Matrix4.multiplyByScale=function(e,t,n){var r=t.x,o=t.y,s=t.z;return 1===r&&1===o&&1===s?Matrix4.clone(e,n):(n.elements[0]=r*e.elements[0],n.elements[1]=r*e.elements[1],n.elements[2]=r*e.elements[2],n.elements[3]=0,n.elements[4]=o*e.elements[4],n.elements[5]=o*e.elements[5],n.elements[6]=o*e.elements[6],n.elements[7]=0,n.elements[8]=s*e.elements[8],n.elements[9]=s*e.elements[9],n.elements[10]=s*e.elements[10],n.elements[11]=0,n.elements[12]=e.elements[12],n.elements[13]=e.elements[13],n.elements[14]=e.elements[14],n.elements[15]=1,n)},Matrix4.multiplyByVector=function(e,t,n){var r=t.x,o=t.y,s=t.z,l=t.w,i=e.elements[1]*r+e.elements[5]*o+e.elements[9]*s+e.elements[13]*l,m=e.elements[2]*r+e.elements[6]*o+e.elements[10]*s+e.elements[14]*l,a=e.elements[3]*r+e.elements[7]*o+e.elements[11]*s+e.elements[15]*l;return n.x=e.elements[0]*r+e.elements[4]*o+e.elements[8]*s+e.elements[12]*l,n.y=i,n.z=m,n.w=a,n},Matrix4.multiplyByPointAsVector=function(e,t,n){var r=t.x,o=t.y,s=t.z,l=e.elements[1]*r+e.elements[5]*o+e.elements[9]*s,i=e.elements[2]*r+e.elements[6]*o+e.elements[10]*s;return n.x=e.elements[0]*r+e.elements[4]*o+e.elements[8]*s,n.y=l,n.z=i,n},Matrix4.multiplyByPoint=function(e,t,n){var r=t.x,o=t.y,s=t.z,l=e.elements[1]*r+e.elements[5]*o+e.elements[9]*s+e.elements[13],i=e.elements[2]*r+e.elements[6]*o+e.elements[10]*s+e.elements[14];return n.x=e.elements[0]*r+e.elements[4]*o+e.elements[8]*s+e.elements[12],n.y=l,n.z=i,n},Matrix4.multiplyByScalar=function(e,t,n){return n.elements[0]=e.elements[0]*t,n.elements[1]=e.elements[1]*t,n.elements[2]=e.elements[2]*t,n.elements[3]=e.elements[3]*t,n.elements[4]=e.elements[4]*t,n.elements[5]=e.elements[5]*t,n.elements[6]=e.elements[6]*t,n.elements[7]=e.elements[7]*t,n.elements[8]=e.elements[8]*t,n.elements[9]=e.elements[9]*t,n.elements[10]=e.elements[10]*t,n.elements[11]=e.elements[11]*t,n.elements[12]=e.elements[12]*t,n.elements[13]=e.elements[13]*t,n.elements[14]=e.elements[14]*t,n.elements[15]=e.elements[15]*t,n},Matrix4.makeRotationFromEuler=function(e,t){defined(t)||(t=new Matrix4);const n=t.elements,r=e.x,o=e.y,s=e.z,l=Math.cos(r),i=Math.sin(r),m=Math.cos(o),a=Math.sin(o),c=Math.cos(s),u=Math.sin(s);if("XYZ"===e.order){const e=l*c,t=l*u,r=i*c,o=i*u;n[0]=m*c,n[4]=-m*u,n[8]=a,n[1]=t+r*a,n[5]=e-o*a,n[9]=-i*m,n[2]=o-e*a,n[6]=r+t*a,n[10]=l*m}else if("YXZ"===e.order){const e=m*c,t=m*u,r=a*c,o=a*u;n[0]=e+o*i,n[4]=r*i-t,n[8]=l*a,n[1]=l*u,n[5]=l*c,n[9]=-i,n[2]=t*i-r,n[6]=o+e*i,n[10]=l*m}else if("ZXY"===e.order){const e=m*c,t=m*u,r=a*c,o=a*u;n[0]=e-o*i,n[4]=-l*u,n[8]=r+t*i,n[1]=t+r*i,n[5]=l*c,n[9]=o-e*i,n[2]=-l*a,n[6]=i,n[10]=l*m}else if("ZYX"===e.order){const e=l*c,t=l*u,r=i*c,o=i*u;n[0]=m*c,n[4]=r*a-t,n[8]=e*a+o,n[1]=m*u,n[5]=o*a+e,n[9]=t*a-r,n[2]=-a,n[6]=i*m,n[10]=l*m}else if("YZX"===e.order){const e=l*m,t=l*a,r=i*m,o=i*a;n[0]=m*c,n[4]=o-e*u,n[8]=r*u+t,n[1]=u,n[5]=l*c,n[9]=-i*c,n[2]=-a*c,n[6]=t*u+r,n[10]=e-o*u}else if("XZY"===e.order){const e=l*m,t=l*a,r=i*m,o=i*a;n[0]=m*c,n[4]=-u,n[8]=a*c,n[1]=e*u+o,n[5]=l*c,n[9]=t*u-r,n[2]=r*u-t,n[6]=i*c,n[10]=o*u+e}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,t},Matrix4.makeRotationFromQuaternion=function(e,t){return Matrix4.compose(Vector3.ONE,e,Vector3.ZERO,t)},Matrix4.compose=(e,t,n,r)=>{defined(r)||(r=new Matrix4);const o=r.elements,s=t.x,l=t.y,i=t.z,m=t.w,a=s+s,c=l+l,u=i+i,h=s*a,f=s*c,C=s*u,d=l*c,x=l*u,y=i*u,M=m*a,E=m*c,g=m*u,V=n.x,w=n.y,z=n.z;return o[0]=(1-(d+y))*V,o[1]=(f+g)*V,o[2]=(C-E)*V,o[3]=0,o[4]=(f-g)*w,o[5]=(1-(h+y))*w,o[6]=(x+M)*w,o[7]=0,o[8]=(C+E)*z,o[9]=(x-M)*z,o[10]=(1-(h+d))*z,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,r},Matrix4.decompose=(e,t,n,r)=>{const o=e.elements;var s=new Vector3;let l=s.fromArray([o[0],o[1],o[2]]).length();const i=s.fromArray([o[4],o[5],o[6]]).length(),m=s.fromArray([o[8],o[9],o[10]]).length();e.determinant()<0&&(l=-l),t.x=o[12],t.y=o[13],t.z=o[14];var a=new Matrix4;Matrix4.clone(e,a);const c=1/l,u=1/i,h=1/m;a.elements[0]*=c,a.elements[1]*=c,a.elements[2]*=c,a.elements[4]*=u,a.elements[5]*=u,a.elements[6]*=u,a.elements[8]*=h,a.elements[9]*=h,a.elements[10]*=h;var f=new Matrix3;return Matrix4.getMatrix3(a,f),Quaternion.fromRotationMatrix(f,n),r.x=l,r.y=i,r.z=m,e},Matrix4.negate=function(e,t){return t.elements[0]=-e.elements[0],t.elements[1]=-e.elements[1],t.elements[2]=-e.elements[2],t.elements[3]=-e.elements[3],t.elements[4]=-e.elements[4],t.elements[5]=-e.elements[5],t.elements[6]=-e.elements[6],t.elements[7]=-e.elements[7],t.elements[8]=-e.elements[8],t.elements[9]=-e.elements[9],t.elements[10]=-e.elements[10],t.elements[11]=-e.elements[11],t.elements[12]=-e.elements[12],t.elements[13]=-e.elements[13],t.elements[14]=-e.elements[14],t.elements[15]=-e.elements[15],t},Matrix4.transpose=function(e,t){var n=e.elements[1],r=e.elements[2],o=e.elements[3],s=e.elements[6],l=e.elements[7],i=e.elements[11];return t.elements[0]=e.elements[0],t.elements[1]=e.elements[4],t.elements[2]=e.elements[8],t.elements[3]=e.elements[12],t.elements[4]=n,t.elements[5]=e.elements[5],t.elements[6]=e.elements[9],t.elements[7]=e.elements[13],t.elements[8]=r,t.elements[9]=s,t.elements[10]=e.elements[10],t.elements[11]=e.elements[14],t.elements[12]=o,t.elements[13]=l,t.elements[14]=i,t.elements[15]=e.elements[15],t},Matrix4.abs=function(e,t){return t.elements[0]=Math.abs(e.elements[0]),t.elements[1]=Math.abs(e.elements[1]),t.elements[2]=Math.abs(e.elements[2]),t.elements[3]=Math.abs(e.elements[3]),t.elements[4]=Math.abs(e.elements[4]),t.elements[5]=Math.abs(e.elements[5]),t.elements[6]=Math.abs(e.elements[6]),t.elements[7]=Math.abs(e.elements[7]),t.elements[8]=Math.abs(e.elements[8]),t.elements[9]=Math.abs(e.elements[9]),t.elements[10]=Math.abs(e.elements[10]),t.elements[11]=Math.abs(e.elements[11]),t.elements[12]=Math.abs(e.elements[12]),t.elements[13]=Math.abs(e.elements[13]),t.elements[14]=Math.abs(e.elements[14]),t.elements[15]=Math.abs(e.elements[15]),t},Matrix4.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.elements[12]===t.elements[12]&&e.elements[13]===t.elements[13]&&e.elements[14]===t.elements[14]&&e.elements[0]===t.elements[0]&&e.elements[1]===t.elements[1]&&e.elements[2]===t.elements[2]&&e.elements[4]===t.elements[4]&&e.elements[5]===t.elements[5]&&e.elements[6]===t.elements[6]&&e.elements[8]===t.elements[8]&&e.elements[9]===t.elements[9]&&e.elements[10]===t.elements[10]&&e.elements[3]===t.elements[3]&&e.elements[7]===t.elements[7]&&e.elements[11]===t.elements[11]&&e.elements[15]===t.elements[15]},Matrix4.getTranslation=function(e,t){return t.x=e.elements[12],t.y=e.elements[13],t.z=e.elements[14],t},Matrix4.getMatrix3=function(e,t){return t.elements[0]=e.elements[0],t.elements[1]=e.elements[1],t.elements[2]=e.elements[2],t.elements[3]=e.elements[4],t.elements[4]=e.elements[5],t.elements[5]=e.elements[6],t.elements[6]=e.elements[8],t.elements[7]=e.elements[9],t.elements[8]=e.elements[10],t},Matrix4.IDENTITY=Object.freeze(new Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),Matrix4.ZERO=Object.freeze(new Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),Matrix4.equalsArray=function(e,t,n){return e.elements[0]===t[n]&&e.elements[1]===t[n+1]&&e.elements[2]===t[n+2]&&e.elements[3]===t[n+3]&&e.elements[4]===t[n+4]&&e.elements[5]===t[n+5]&&e.elements[6]===t[n+6]&&e.elements[7]===t[n+7]&&e.elements[8]===t[n+8]&&e.elements[9]===t[n+9]&&e.elements[10]===t[n+10]&&e.elements[11]===t[n+11]&&e.elements[12]===t[n+12]&&e.elements[13]===t[n+13]&&e.elements[14]===t[n+14]&&e.elements[15]===t[n+15]};class Euler{constructor(e,t,n,r){this.x=0,this.y=0,this.z=0,this.order=Euler.DefaultOrder,this.isEuler=!0,this.set=(e,t,n,r)=>(this.x=e,this.y=t,this.z=n,this.order=r,this),this.clone=e=>Euler.clone(this,e),this.equals=e=>Euler.equals(this,e),this.toArray=(e=[],t=0)=>{Euler.toArray(this,e,t)},this.toVector3=e=>Euler.toVector3(this,e),this.toString=()=>"("+this.x+", "+this.y+", "+this.z+", "+this.order+")",this.x=defaultValue(e,0),this.y=defaultValue(t,0),this.z=defaultValue(n,0),this.order=defaultValue(r,"XYZ")}}Euler.DefaultOrder="XYZ",Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Euler.clone=function(e,t){return defined(t)||(t=new Euler),t.set(e.x,e.y,e.z,e.order),t},Euler.fromRotationMatrix=function(e,t=Euler.DefaultOrder,n){defined(n)||(n=new Euler);const r=e.elements,o=r[0],s=r[4],l=r[8],i=r[1],m=r[5],a=r[9],c=r[2],u=r[6],h=r[10];switch(t){case"XYZ":n.y=Math.asin(CMath.clamp(l,-1,1)),Math.abs(l)<.9999999?(n.x=Math.atan2(-a,h),n.z=Math.atan2(-s,o)):(n.x=Math.atan2(u,m),n.z=0);break;case"YXZ":n.x=Math.asin(-CMath.clamp(a,-1,1)),Math.abs(a)<.9999999?(n.y=Math.atan2(l,h),n.z=Math.atan2(i,m)):(n.y=Math.atan2(-c,o),n.z=0);break;case"ZXY":n.x=Math.asin(CMath.clamp(u,-1,1)),Math.abs(u)<.9999999?(n.y=Math.atan2(-c,h),n.z=Math.atan2(-s,m)):(n.y=0,n.z=Math.atan2(i,o));break;case"ZYX":n.y=Math.asin(-CMath.clamp(c,-1,1)),Math.abs(c)<.9999999?(n.x=Math.atan2(u,h),n.z=Math.atan2(i,o)):(n.x=0,n.z=Math.atan2(-s,m));break;case"YZX":n.z=Math.asin(CMath.clamp(i,-1,1)),Math.abs(i)<.9999999?(n.x=Math.atan2(-a,m),n.y=Math.atan2(-c,o)):(n.x=0,n.y=Math.atan2(l,h));break;case"XZY":n.z=Math.asin(-CMath.clamp(s,-1,1)),Math.abs(s)<.9999999?(n.x=Math.atan2(u,m),n.y=Math.atan2(l,o)):(n.x=Math.atan2(-a,h),n.y=0);break;default:throw new DeveloperError("An unknown order: "+t)}return n.order=t,n},Euler.fromQuaternion=function(e,t=Euler.DefaultOrder,n){const r=new Matrix4;return r.makeRotationFromQuaternion(e),Euler.fromRotationMatrix(r,t,n)},Euler.fromVector3=function(e,t=Euler.DefaultOrder,n){return defined(n)||(n=new Euler),n.set(e.x,e.y,e.z,t)},Euler.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.order===t.order},Euler.fromArray=function(e,t){defined(t)||(t=new Euler),t.x=Number(e[0]),t.y=Number(e[1]),t.z=Number(e[2]);var n=String(e[3]);if(!defined(n)||!Euler.RotationOrders.includes(n))throw new DeveloperError("An unknown order: "+n);return t.order=n,t},Euler.toArray=function(e,t=[],n=0){return t[n]=e.x,t[n+1]=e.y,t[n+2]=e.z,t[n+3]=e.order,t},Euler.toVector3=function(e,t){return defined(t)||(t=new Vector3),t.fromArray([e.x,e.y,e.z]),t};class TranslationRotationScale{constructor(e,t,n){this.translation=Vector3.ZERO.clone(),this.rotation=Quaternion.IDENTITY.clone(),this.scale=Vector3.ONE.clone(),this.equals=e=>this===e||defined(e)&&Vector3.equals(this.translation,e.translation)&&Quaternion.equals(this.rotation,e.rotation)&&Vector3.equals(this.scale,e.scale),Vector3.clone(defaultValue(e,Vector3.ZERO),this.translation),Quaternion.clone(defaultValue(t,Quaternion.IDENTITY),this.rotation),Vector3.clone(defaultValue(n,Vector3.ONE),this.scale)}}class CMath3D{}CMath3D.CMath=CMath,CMath3D.Vector2=Vector2,CMath3D.Vector3=Vector3,CMath3D.Vector4=Vector4,CMath3D.Box2=Box2,CMath3D.Box3=Box3,CMath3D.Color=Color,CMath3D.Matrix2=Matrix2,CMath3D.Matrix3=Matrix3,CMath3D.Matrix4=Matrix4,CMath3D.Quaternion=Quaternion,CMath3D.Euler=Euler,CMath3D.TranslationRotationScale=TranslationRotationScale;class CFile extends BaseObject{}CFile.getExt=function(e){if("string"==typeof e)return e.split(".").pop().toLowerCase();throw new DeveloperError("filename must be a string type")},CFile.downloadLink=function(e,t){t||(t=e.slice(e.lastIndexOf("/")+1));let n=document.createElement("a");n.download=t,n.style.display="none",n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)},CFile.downloadFile=function(e,t){if(void 0===e)throw new Error("The first parameter name is a must");if(void 0===t)throw new Error("The second parameter content is a must");t instanceof Blob||(t=new Blob([t]));const n=URL.createObjectURL(t);CFile.downloadLink(n,e)};class COther extends BaseObject{}COther.copyToBoard=function(e){const t=document.createElement("textarea");return document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy")?(document.execCommand("copy"),document.body.removeChild(t),!0):(document.body.removeChild(t),!1)},COther.type=function(e){return Object.prototype.toString.call(e)},COther.isEmpty=e=>0===Reflect.ownKeys(e).length&&e.constructor===Object;class CNetwork extends BaseObject{}CNetwork.ajax=function(e,t,n,r,o){var s;if(o=o||!0,e=e.toUpperCase(),(s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp")).onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log(2),n(s.responseText))},"GET"==e){var l=(new Date).getTime();s.open("GET",t+"?"+r+"&timer"+l,o),s.send()}else"POST"==e&&(s.open("POST",t,o),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(r))};class CEvent extends BaseObject{}const JSC={VERSION:"0.0.1",test:()=>{console.log("Hi,It's running.")},clone,defined,defaultValue,DeveloperError,BaseObject,CObject,CNumber,CArray,CString,CFormat,CStorage,CCookie,CRegular,CUrl,CDevice,CBrowser,CDataTime,CMath3D,CFile,COther,CNetwork,CEvent};export{BaseObject,Box2,Box3,CArray,CBrowser,CCookie,CDataTime,CDevice,CEvent,CFile,CFormat,CMath,CMath3D,CNetwork,CNumber,CObject,COther,CRegular,CStorage,CString,CUrl,Color,DeveloperError,Euler,Matrix2,Matrix3,Matrix4,Quaternion,TranslationRotationScale,Vector2,Vector3,Vector4,clone,JSC as default,defaultValue,defined};
//# sourceMappingURL=jsc.modern.js.map
